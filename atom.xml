<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>程序萌部落</title>
  
  <subtitle>保持怀疑，独立思考</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.cxmoe.com/"/>
  <updated>2021-07-14T12:05:01.000Z</updated>
  <id>https://www.cxmoe.com/</id>
  
  <author>
    <name>Z.TIAN</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>乌班图重置Nvidia显卡驱动总结</title>
    <link href="https://www.cxmoe.com/article/ebae.html"/>
    <id>https://www.cxmoe.com/article/ebae.html</id>
    <published>2021-07-04T22:00:00.000Z</published>
    <updated>2021-07-14T12:05:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>这已经是数不清第几次的重置显卡驱动了，这次出问题起因就是先前为了安装一个封装版QQ，其使用了高版本的程序库（基于Ubuntu20开发的），所以我1804装不上，结果我手贱用 aptitude 强制安装了相关程序库，结果导致开机之后黑屏了，分析应该是显卡驱动完蛋了，所以重置了显卡驱动，最终回归正常。</p><a id="more"></a><p>*<em>注意：本机非双显卡机器，CPU 为 i5-9400F *</em></p><h3 id="可以确定的经验"><a href="#可以确定的经验" class="headerlink" title="可以确定的经验"></a>可以确定的经验</h3><ul><li><p>升级内核（或者安装某些软件时升级了某些库）后进入不了系统、黑屏不要着急，更不需要重装系统！！只是黑屏、卡机、或者卡开机画面（必须通过引导），都是显卡出了问题，只需要重装显卡驱动即可。</p></li><li><p>进不去系统如何修复呢？使用 Recovery 模式！在Grub引导界面，选择 Advance 进入后选择 内核的recovery选项，进入recovery模式内，可完成旧驱动卸载、新驱动安装等一系列操作。如果网络不通，选择菜单中的 Network 打开网络即可。这样我们就能在 Recovery 模式下直接从网络下载新的驱动安装包。</p></li></ul><h3 id="完全卸载旧驱动"><a href="#完全卸载旧驱动" class="headerlink" title="完全卸载旧驱动"></a>完全卸载旧驱动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get --purge remove nvidia*</span><br><span class="line">sudo apt autoremove</span><br><span class="line">sudo apt-get --purge remove &quot;*cublas*&quot; &quot;cuda*&quot;</span><br><span class="line">sudo apt-get --purge remove &quot;*nvidia*&quot;  &#x2F;&#x2F;有点重复，不影响</span><br></pre></td></tr></table></figure><p>此时，系统内应该已经没有Nvidia显卡，<code>nvidia-smi</code> 显示为空。并且此时重启开机，电脑应该可以进入桌面，因为这时 Ubuntu 会使用默认的 Nouveau 显卡驱动来驱动更新。</p><p>值得注意的是：Nouveau并不是集显驱动，它的定位是 Ubuntu 默认的显卡驱动，不管有没有集显，当系统中不存在英伟达显卡时，Ubuntu 就会用 Nouveau 驱动显示。</p><h3 id="常见的显卡安装方法及问题"><a href="#常见的显卡安装方法及问题" class="headerlink" title="常见的显卡安装方法及问题"></a>常见的显卡安装方法及问题</h3><ul><li>本人机器上，进入桌面后，使用系统App（软件更新）进行Nvidia显卡安装，安装后无法进入系统。</li><li>本人机器上，直接使用Cuda默认绑定的显卡安装包，可完美安装显卡驱动。</li><li>本人机器上，低版本的Nvidia-410（+Cuda10.0）经测试无法正常安装，但450（+Cuda11）版本以上正常安装。</li></ul><h3 id="必须禁用Nouveau"><a href="#必须禁用Nouveau" class="headerlink" title="必须禁用Nouveau"></a>必须禁用Nouveau</h3><p>进入Nvidia驱动安装界面时 Nouveau 必须在禁用状态，<code>lsmod | grep nouveau</code> 应该无输出（如果有，则表明Nouveau依然被载入且运行，此时无法通过Nvidia驱动安装程序的检查，从而导致安装进程终止）</p><p>如何禁用？</p><ul><li>首先可以在 <code>/etc/modprobe.d/blacklist.conf</code> 中添加 <code>blacklist nouveau</code> 和 <code>options nouveau modeset=0</code> 两行，然后执行 <code>sudo update-initramfs -u</code>。（注意：此步骤可省略。当第一次运行Nvidia驱动安装程序时，如果Nouveau并未被禁用，则安装程序会在上述目录自动生成一个conf文件，内容和我们自己写的一样。并且会提示我们reboot，以让写入的conf文件生效）</li><li>其次，在开机后的grub页面，<code>quiet splash</code> 后面紧跟插入 <code>nomodset</code>，再重新进入启动流程。</li><li>再次，手动关闭桌面显示。<code>service lightdm stop</code> 或者 <code>service gdm stop</code>，停用桌面服务。（注意：此时要 Ctrl+Alt+F3 进入tty来执行后续操作及安装过程）</li><li>最后，验证的方法就是 <code>lsmod | grep nouveau</code> 没有任何输出！</li></ul><h3 id="BIOS禁用-SecureBoot"><a href="#BIOS禁用-SecureBoot" class="headerlink" title="BIOS禁用 SecureBoot"></a>BIOS禁用 SecureBoot</h3><p>NVIDIA 由于由于Ubuntu的内核编译默认设置了 CONFIG_MODULE_SIG 为真，在支持UEFI的设备上打开Secure Boot 后，Ubuntu对于添加到内核的模块更加保守, 需要持有签名才能添加到模块中。这里我们直接进入BIOS关闭 SecureBoot 即可。</p><h3 id="Cuda绑定安装显卡驱动"><a href="#Cuda绑定安装显卡驱动" class="headerlink" title="Cuda绑定安装显卡驱动"></a>Cuda绑定安装显卡驱动</h3><p>对于执行 Cuda 绑定的驱动程序来说，无需附加诸如 <code>-no-x-check</code> 之类的参数，这些参数只有在直接通过 Nvidia 驱动安装程序安装时才可以追加。我们这里是 Cuda 的安装中附带安装 Nvidia 驱动！</p><p><strong>注意：</strong></p><ul><li><p><strong>Nvidia-470 版本及以上，不包括i386的程序库支持</strong>，也就是说某些使用32位程序库的第三方软件（比如CNCNet），无法在Nvidia-470驱动上工作，会报错：<code>libGL error: No matching fbConfigs or visuals found</code>。这时只能从新安装低版本的驱动，比如我现在使用Nvidia-450，CNCNet完美运行。</p></li><li><p>安装过程中出现错误不要紧，留意错误下方的日志路径，在Cuda安装过程中，问题几乎就出在显卡驱动的安装上，而Nvidia驱动安装出现的错误会在 <code>/var/log/nvidia-installer.log</code> 中，查看会发现错误非常单一，基本上就是 <code>Nouveau并未被禁止</code>，或者是 <code>nvidia-drm正在运行</code>。前者的解决方案在上面，对于后者，通常是 Nvidia 驱动没卸载干净所致，所以要充分的卸载。重复以下过程：</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get --purge remove nvidia*</span><br><span class="line">sudo apt autoremove</span><br><span class="line">sudo apt-get --purge remove &quot;*cublas*&quot; &quot;cuda*&quot;</span><br><span class="line">sudo apt-get --purge remove &quot;*nvidia*&quot;  &#x2F;&#x2F;有点重复，不影响</span><br></pre></td></tr></table></figure><p>如果仍然存在 <code>nvidia-drm</code> 错误，那么执行以下命令（此时应该在停用 lightdm 或 gdm 之后的 tty 中运行这些命令）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl isolate multi-user.target</span><br><span class="line">modprobe -r nvidia-drm</span><br></pre></td></tr></table></figure><p>第一条命令执行完毕后可能会退出当前的tty进入黑屏，此时只需重新 Ctrl+Alt+F3 进入tty即可。</p><h3 id="正常流程"><a href="#正常流程" class="headerlink" title="正常流程"></a>正常流程</h3><p>如果一切正常，在 Recovery 模式中或者是进入桌面后的 tty 中，直接下载并执行安装脚本即可。例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget http:&#x2F;&#x2F;developer.download.nvidia.com&#x2F;compute&#x2F;cuda&#x2F;11.0.2&#x2F;local_installers&#x2F;cuda_11.0.2_450.51.05_linux.run</span><br><span class="line">sudo sh cuda_11.0.2_450.51.05_linux.run</span><br><span class="line">&#x2F;&#x2F; 过程中要同意安装绑定的Nvidia显卡驱动</span><br></pre></td></tr></table></figure><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul><li>How to disable Nouveau kernel driver <a href="https://askubuntu.com/questions/841876/how-to-disable-nouveau-kernel-driver" target="_blank" rel="external nofollow noopener noreferrer">https://askubuntu.com/questions/841876/how-to-disable-nouveau-kernel-driver</a></li><li>System Isolation Failed <a href="https://bbs.archlinux.org/viewtopic.php?id=228445" target="_blank" rel="external nofollow noopener noreferrer">https://bbs.archlinux.org/viewtopic.php?id=228445</a></li><li>How to unload kernel module ‘nvidia-drm’? <a href="https://unix.stackexchange.com/questions/440840/how-to-unload-kernel-module-nvidia-drm" target="_blank" rel="external nofollow noopener noreferrer">https://unix.stackexchange.com/questions/440840/how-to-unload-kernel-module-nvidia-drm</a></li><li>Ubuntu uninstall the Nvidia driver and install the latest driver <a href="https://www.programmersought.com/article/38077690789/" target="_blank" rel="external nofollow noopener noreferrer">https://www.programmersought.com/article/38077690789/</a></li><li>libGL error: No matching fbConfigs or visuals found libGL error: failed to load driver: swrast <a href="https://askubuntu.com/questions/834254/steam-libgl-error-no-matching-fbconfigs-or-visuals-found-libgl-error-failed-t/903488#903488" target="_blank" rel="external nofollow noopener noreferrer">https://askubuntu.com/questions/834254/steam-libgl-error-no-matching-fbconfigs-or-visuals-found-libgl-error-failed-t/903488#903488</a></li><li>Nvidia drivers without 32 bit library <a href="https://github.com/ValveSoftware/steam-for-linux/issues/7901" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/ValveSoftware/steam-for-linux/issues/7901</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这已经是数不清第几次的重置显卡驱动了，这次出问题起因就是先前为了安装一个封装版QQ，其使用了高版本的程序库（基于Ubuntu20开发的），所以我1804装不上，结果我手贱用 aptitude 强制安装了相关程序库，结果导致开机之后黑屏了，分析应该是显卡驱动完蛋了，所以重置了显卡驱动，最终回归正常。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Daily_Life" scheme="https://www.cxmoe.com/categories/Daily-Life/"/>
    
    
      <category term="总结" scheme="https://www.cxmoe.com/tags/%E6%80%BB%E7%BB%93/"/>
    
      <category term="Ubuntu" scheme="https://www.cxmoe.com/tags/Ubuntu/"/>
    
      <category term="Nvidia" scheme="https://www.cxmoe.com/tags/Nvidia/"/>
    
  </entry>
  
  <entry>
    <title>借助VSCode在Ubuntu上使用QQ</title>
    <link href="https://www.cxmoe.com/article/7d0a.html"/>
    <id>https://www.cxmoe.com/article/7d0a.html</id>
    <published>2021-06-28T22:00:00.000Z</published>
    <updated>2021-07-02T22:57:06.000Z</updated>
    
    <content type="html"><![CDATA[<fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/ubuntu/2021-07-02_23-59.png"></fancybox><p>更新于2021年6月。Ubuntu上使用QQ一直是个痛点，而且令人不解的是腾讯除了在19年把远古版本LinuxQQ拿出来修补一下之外，没有任何迹象表明其会推出官方的Linux新版QQ，所以通常Linux之上使用QQ就几个方式：① Wine版QQ，② 通过协议自定义封装的仿QQ的IM工具。本文使用的就是后者，而且作者借助Vscode以插件形式运行。</p><a id="more"></a><p>直接上地址： <a href="https://github.com/takayama-lily/vscode-qq" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/takayama-lily/vscode-qq</a></p><p><strong>此项目非常新鲜，三个月前才被创建，项目并非专为Linux设计，但完全可以在Ubuntu上使用</strong>，目前使用上发送信息有些小bug，但可以稳定的接受个人和群聊消息。</p><h4 id="为什么不用Wine版QQ"><a href="#为什么不用Wine版QQ" class="headerlink" title="为什么不用Wine版QQ"></a><strong>为什么不用Wine版QQ</strong></h4><p>第一，Wine的环境需要额外的安装，整体上有些复杂。本质上Wine类似于JVM虚拟机，可以让Windows应用跨平台的运行在Linux之上，但问题是QQ的适配并不完美，甚至可以说是<strong>十分糟糕</strong>，由于WindowsQQ的版本迭代更新太快，所以导致Wine上的适配工作往往并不及时，而且由于现在QQ的软件本身体量巨大，有些Wine版本的QQ直接放弃维护了，早期的比如：</p><p><a href="https://github.com/askme765cs/Wine-QQ-TIM" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/askme765cs/Wine-QQ-TIM</a> （这在2020年时尚可使用，但目前已无法登陆。）</p><p>第二，字体适配不佳。Wine环境本身有一套渲染字体，但由于其并非官方QQ的字体，而且仅有几种简单的字体以供选择，这直接导致即便你可以使用WineQQ，但整个界面都显得十分古怪，甚至使用体验不及官方的水货版LinuxQQ。</p><p>可以看到，对于使用QQ而言，WineQQ并不是十分友好的选择，虽然目前有新的针对Ubuntu20的WineQQ版本，但那些版本都基本无法在18、16、14版ubuntu上使用。而且对于我、或者使用Ubuntu作为实验编程平台的用户来说，更换、升级Ubuntu版本是个十分头疼的事情，因为涉及显卡驱动等等事项，非常容易因为升级了内核导致驱动无效而黑屏无法进入系统的情况。综上，在有替代品的前提下，为什么还要用wineQQ呢？！</p><h4 id="为什么用Vscode-QQ"><a href="#为什么用Vscode-QQ" class="headerlink" title="为什么用Vscode-QQ"></a><strong>为什么用Vscode-QQ</strong></h4><p>第一，轻量。以Vscode插件的形式，借助QQ协议库，直接重写一套UI，这是个绝佳的想法，没有冗余的功能需求，直接砍掉大量和聊天无关的功能，只保留核心的收发消息、收发表情图片。（文件好像还不支持！）</p><p>第二，界面友好。同样，在Vscode内，整个聊天界面直接由文件页面代替，也就是说打开某个人、群组进行聊天，就像打开一个文件那样操作，这在Vscode内是十分舒服的，可以无缝的和你编程工作混合在一起。</p><p>第三，安装方便。直接在Vscode插件栏搜索安装即可，安装之后需要用Vscode的命令搜索栏登陆一下账号，之后就可以愉快的聊天了，没有任何多余步骤，真的一分钟就可以在Ubuntu上使用到QQ！</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/ubuntu/2021-07-02_23-55.png"></fancybox><h4 id="结语"><a href="#结语" class="headerlink" title="结语"></a><strong>结语</strong></h4><p>就像开头说的，目前此项目还处在开始阶段，连issue也才十几个，使用上的问题也存在，但不影响整体收发信息的功能，可以说很好的解决了QQ在Ubuntu的使用问题，作为一个Ubuntu使用者，非常真诚的向大家推荐这个工具！</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/ubuntu/2021-07-02_15-57.png"></fancybox>]]></content>
    
    <summary type="html">
    
      &lt;fancybox&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/ubuntu/2021-07-02_23-59.png&quot;&gt;
&lt;/fancybox&gt;

&lt;p&gt;更新于2021年6月。Ubuntu上使用QQ一直是个痛点，而且令人不解的是腾讯除了在19年把远古版本LinuxQQ拿出来修补一下之外，没有任何迹象表明其会推出官方的Linux新版QQ，所以通常Linux之上使用QQ就几个方式：① Wine版QQ，② 通过协议自定义封装的仿QQ的IM工具。本文使用的就是后者，而且作者借助Vscode以插件形式运行。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Daily_Life" scheme="https://www.cxmoe.com/categories/Daily-Life/"/>
    
    
      <category term="Ubuntu" scheme="https://www.cxmoe.com/tags/Ubuntu/"/>
    
      <category term="QQ" scheme="https://www.cxmoe.com/tags/QQ/"/>
    
  </entry>
  
  <entry>
    <title>使用PC同步播放移动设备的音频</title>
    <link href="https://www.cxmoe.com/article/8caf.html"/>
    <id>https://www.cxmoe.com/article/8caf.html</id>
    <published>2021-05-08T22:00:00.000Z</published>
    <updated>2021-05-10T10:32:31.000Z</updated>
    
    <content type="html"><![CDATA[<p>当你使用台式机工作时，你是否喜欢在旁边放一个pad或手机刷其他视频或音乐？并且在没有条件外放声音的情况下，你是否尝试过带两个耳机来收听两个设备的音频（电脑+移动设备）？如果你想这么干，又苦于没有头绪，那么本文将告诉你各种可能的方案以及他们是否可行，当然最后你会得到堪称完美的整合方式。</p><p>与此问题的相关英文问法通常是：</p><p><strong>How to stream audio from an Android device to a Windows PC ??</strong></p><h4 id="为什么要这样做"><a href="#为什么要这样做" class="headerlink" title="为什么要这样做"></a><strong>为什么要这样做</strong></h4><p>首先要明确我的使用场景：</p><p><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210510032841.png" alt></p><a id="more"></a><p>可以看到，平板在我的桌面相当于一块小副屏，当然它并不能和PC直接互通，我们知道，华为的手机和平板、电脑之间可以多屏协作，即将手机画面和声音以有线或无线方式投送到平板、电脑之上，以达到在电脑上处理手机事务的能力，<strong>但遗憾的是：目前华为平板和电脑之间并没有多屏协作的官方方案！</strong>也就是说，对于平板来说，在华为设计思路里，并不是从属设备而是替代PC的主力设备，这和iPad的发展类似，当然它发展它的，我们个人的需求仍然要满足滴！</p><p>所以，我的需求是，在我正常使用耳机在台式电脑办公/娱乐时，我想从<strong>同一副耳机中听到来自平板中播放视频的声音</strong>，也就是说，虽然带着一副耳机，但可以听到不同类型设备的音频输出，这样我的平板就更加像一块小副屏，仅仅担负放视频的任务，声音共享。所以，核心问题来了：<strong>如何采集平板的音频并传输给PC？</strong></p><p>各种失败的尝试：</p><h4 id="第三方投屏软件"><a href="#第三方投屏软件" class="headerlink" title="第三方投屏软件"></a><strong>第三方投屏软件</strong></h4><p>由于华为的平板没有所谓的“多屏协作”，所以我想使用第三方的投屏软件来将平板的音视频投影到电脑上，当然这也就实现了我的目的，但通过尝试，发现当前<strong>几乎没有能够采集音频的投屏软件</strong>，有教程称小米自带投屏支持声音拾取，对此我并没有验证。更通俗的方案是依赖谷歌框架的投屏功能，不过我的 Matepadpro 是谷歌阉割版，此种方案作罢。</p><ul><li>这时我发现了名为“傲软投屏”的软件，号称可以采集声音，但经过实测，只是能采集平板的麦克风输入声音，USB或者Wifi连接都无法得到平板的音频输出！</li></ul><h4 id="远程桌面软件"><a href="#远程桌面软件" class="headerlink" title="远程桌面软件"></a><strong>远程桌面软件</strong></h4><p>如果你设备较多人又很懒，那么使用 TeamViewer 或者 Anydesk 等远程桌面软件来管理多个硬件设备是非常合适的，当然不使用 Windows 自带远程桌面的原因是：<strong>要兼容移动设备</strong>，所以使用 Anydesk 之类的软件即可轻松跨平台访问远程桌面。</p><ul><li>因此，在平板上安装 Anydesk 是个很自然的想法，更重要的是，对于电脑与电脑之间的远程访问，Anydesk 是支持声音传输的，即远端桌面上播放音乐，在访问端也可听到声音。但遗憾的是，经过实测，当 MatepadPro 和电脑通过 Anydesk 连接后，并不能听到任何平板的音频输出，不过其和投屏软件一样，也支持平板上麦克风声音的拾取。</li></ul><h4 id="电脑当做移动设备的蓝牙音频输出设备"><a href="#电脑当做移动设备的蓝牙音频输出设备" class="headerlink" title="电脑当做移动设备的蓝牙音频输出设备"></a><strong>电脑当做移动设备的蓝牙音频输出设备</strong></h4><p>即，把电脑当做平板的蓝牙耳机，当然就可以得到平板的声音了！这是最合理可行的方案，不过需要我们将 Windows 作为接收音频的蓝牙设备，完成此功能需要借助名为 “Bluetooth Audio Receiver” 的<strong>UWP应用</strong>，我没找到该软件的正常安装版本，对于我来说，我早已将微软的商店服务给禁用了，自然也无法使用此种方案。</p><h4 id="可能的替代方案"><a href="#可能的替代方案" class="headerlink" title="可能的替代方案"></a><strong>可能的替代方案</strong></h4><p>是否有该UWP应用的替代品？部分网络教程提及了蓝牙的音频传输功能，即，当平板和电脑以蓝牙相连时，在电脑上的蓝牙选项中会存在“接收音频”类似的功能选项，如果选中则可以得到平板的音频。但我的华为平板通过蓝牙连接电脑后，没有任何声音选项，故此方案不可。</p><p>经检索，网上有人说可以用过 “IVT BlueSoliel” 即千月蓝牙来实现。多说一嘴，千月蓝牙工具的核心是使用了虚拟蓝牙串口，即他会接管原有蓝牙功能，但其协议堆栈是和 Windows原生蓝牙是不同的，这也是为什么有时他能解决问题的原因。但是，经过我的尝试，这玩意儿也不好使，而且客户端做的仿佛是上世纪的UI，体验一般。</p><h4 id="正确答案"><a href="#正确答案" class="headerlink" title="正确答案"></a><strong>正确答案</strong></h4><p>以上试了这么多方案，有无线连接的，也有通过 USB 连接的，当然，对我来说我对有线无线并不在乎。所以，当我在尝试投屏软件时，有个“USB”直连模式我果断试用了，因为用 USB 连接并不占用带宽，这对局域网来说是很重要的！尤其是我现在用的路由器并不强劲。虽然投屏软件没能解决我的问题，但它引出了后续的终极方案：ADB调试直连。</p><p>需要用到的两个开源工具：</p><ul><li>scrcpy：<a href="https://github.com/Genymobile/scrcpy" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/Genymobile/scrcpy</a></li><li>sndcpy：<a href="https://github.com/rom1v/sndcpy" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/rom1v/sndcpy</a></li></ul><p>借助 Scrcpy 可以达到同屏的目的，几乎无延迟，我强烈怀疑有很多投屏软件就是这个开源项目的再封装。借助 Sndcpy 可以达到同步音频的目的，几乎无延迟！这不就是我苦苦寻找的东西吗！！两者同时使用，则可以将移动设备的画面及声音完全复制到电脑之上，当然，亲测<strong>单独使用 Sndcpy 也是可行的！</strong>这就完完全全是我想要的效果了：</p><p>只把平板的声音同步到电脑，在我用电脑娱乐玩游戏（游戏内有声音）时，耳机中也能听见来自平板上的视频的声音！</p><h4 id="Sndcpy-使用注意事项"><a href="#Sndcpy-使用注意事项" class="headerlink" title="Sndcpy 使用注意事项"></a><strong>Sndcpy 使用注意事项</strong></h4><ul><li><p>一定要打开手机的USB调试，验证：电脑通过数据线连接移动设备后，会弹出“是否允许调试”的询问弹框。</p></li><li><p>一定要在电脑端安装VLC播放器！其需要借助VLC的解码器。</p></li><li><p>一定要添加环境变量！</p></li></ul><blockquote><p>ADB: the full path to the adb executable<br>VLC: the full path to the vlc executable<br>SNDCPY_APK: the full path to sndcpy.apk<br>SNDCPY_PORT: the local port to forward to communicate with the device</p></blockquote><ul><li>优化使用</li></ul><p>以上两个工具，正常的使用方法是直接点击 xx.exe 唤起 Console 黑框终端运行，使用期间cmd终端会一直在且不可以关闭，这很令人抓狂！</p><p>当然我发现了完美的解决办法：将cmd终端<strong>最小化到右下角图标区域</strong>，仍然是后台常驻，但不会占用任务栏的空间，你也不会再在桌面看到任何黑框！</p><p>实现该功能的项目地址：<a href="https://github.com/fcFn/traymond" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/fcFn/traymond</a><br>使用：<strong>win键 + shift + Z</strong> 把当前窗口最小化常驻到右下角图标</p><h4 id="结语"><a href="#结语" class="headerlink" title="结语"></a><strong>结语</strong></h4><p>通过最后的方案，实现了平板声音的实时采集传输，无需蓝牙，不用同屏图像，完美方案！！！<br>值得一提的是，该方案并不影响平板的原有音频输出！同时也不影响电脑原有的音频输出，如果同时播放视频，就像在浏览器同时开两个视频页面的效果一样（叠加）。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;当你使用台式机工作时，你是否喜欢在旁边放一个pad或手机刷其他视频或音乐？并且在没有条件外放声音的情况下，你是否尝试过带两个耳机来收听两个设备的音频（电脑+移动设备）？如果你想这么干，又苦于没有头绪，那么本文将告诉你各种可能的方案以及他们是否可行，当然最后你会得到堪称完美的整合方式。&lt;/p&gt;
&lt;p&gt;与此问题的相关英文问法通常是：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;How to stream audio from an Android device to a Windows PC ??&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&quot;为什么要这样做&quot;&gt;&lt;a href=&quot;#为什么要这样做&quot; class=&quot;headerlink&quot; title=&quot;为什么要这样做&quot;&gt;&lt;/a&gt;&lt;strong&gt;为什么要这样做&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;首先要明确我的使用场景：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210510032841.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Daily_Life" scheme="https://www.cxmoe.com/categories/Daily-Life/"/>
    
    
      <category term="ADB调试" scheme="https://www.cxmoe.com/tags/ADB%E8%B0%83%E8%AF%95/"/>
    
      <category term="踩坑" scheme="https://www.cxmoe.com/tags/%E8%B8%A9%E5%9D%91/"/>
    
  </entry>
  
  <entry>
    <title>大疆无人机全景图-补天-教程</title>
    <link href="https://www.cxmoe.com/article/b157.html"/>
    <id>https://www.cxmoe.com/article/b157.html</id>
    <published>2021-03-05T23:00:00.000Z</published>
    <updated>2021-03-10T00:00:03.000Z</updated>
    
    <content type="html"><![CDATA[<fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210309000832.png"></fancybox><a id="more"></a><h3 id="为什么不用大疆默认导出"><a href="#为什么不用大疆默认导出" class="headerlink" title="为什么不用大疆默认导出"></a>为什么不用大疆默认导出</h3><p>原因很简单，那就是：画质差！</p><p>可以体会下这两者的区别，大疆 DJI Fly 导出的全景图（上）和使用PTGui合成分片的全景图（下）：</p><ul><li><p><strong>大小 2.72M</strong>，<a href="https://720yun.com/t/59vkcmfys2w" target="_blank" rel="external nofollow noopener noreferrer">https://720yun.com/t/59vkcmfys2w</a></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210308221340.png"></fancybox></li><li><p><strong>大小 25.3M</strong>，<a href="https://720yun.com/t/34vkcmf7577" target="_blank" rel="external nofollow noopener noreferrer">https://720yun.com/t/34vkcmf7577</a></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210308221305.png"></fancybox></li></ul><p>非常明显，下面的更加清晰！大疆导出的全景图简直不要太“糊”！要合成下面的全景图，那么就要用到 PTGui 这个软件。</p><h3 id="使用PTGui"><a href="#使用PTGui" class="headerlink" title="使用PTGui"></a>使用PTGui</h3><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210308211017.png"></fancybox><p>拿出SD卡插到电脑，你会发现 DCIM-&gt;PANORAMA 这样的文件夹，这个文件夹就是存储全景图的地方，每个子文件夹（有很多分片）其实就是一张全景图，大疆默认导出时自动合成为一张图并保存到你的手机，也就是这个过程，让整个画面的画质产生了很大的损失。</p><p>如果我们自己合成，就可以控制合成图的质量，这也是我们的目标。要合成全景图，使用的工具就是PTGui，这里推荐直接用破戒的Pro版本。</p><ul><li>下载、安装、破戒：<a href="http://www.ddooo.com/softdown/177395.htm" target="_blank" rel="external nofollow noopener noreferrer">http://www.ddooo.com/softdown/177395.htm</a></li></ul><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>非常简单的三个步骤：<strong>①导入上述的分片</strong>、<strong>②对齐影像</strong>、<strong>③生成全景图</strong>。（因为无人机拍摄的分片是非常规整的，所以不需要任何手动设置）</p><p>注意在最后一步，有两个地方涉及合成质量：</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210308213038.png"></fancybox><p>点击“创建全景”即可，然后点击“查看”，可以在 PTGui 内部的查看器里查看自由视角的合成图片（和720yun的效果是一样的）。如果你选择的“文件格式”是 jpg，那么导出后就可直接上传至 720yun 等平台发布全景图。</p><ul><li>最终结果：<a href="https://720yun.com/t/e8vkcmfw0qw" target="_blank" rel="external nofollow noopener noreferrer">https://720yun.com/t/e8vkcmfw0qw</a></li></ul><p>Wait！怎么刚合成的全景图头上有个洞！！别慌，我们下面就用PS来补上！</p><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h3 id="为什么要补天"><a href="#为什么要补天" class="headerlink" title="为什么要补天"></a>为什么要补天</h3><p>默认情况下，全景图是由十几组照片（或六面体）合成的，大疆的拍摄方法，在PTGui里合成时会出现上部缺省的现象（下图的黑色部分），合成之后的结果，就是头顶有块没有像素的“黑洞”，在产出的全景图作品中，我们自然是不会允许这个洞存在，大疆默认的导出实际上是填补了这个洞，当然，我们也可以自己用PS补上这个洞。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210308215550.png"></fancybox><h4 id="补天工具-Photoshop"><a href="#补天工具-Photoshop" class="headerlink" title="补天工具 Photoshop"></a>补天工具 Photoshop</h4><p>安装和使用：<a href="https://www.yutu.cn/softhtml/softsetup_1176.html" target="_blank" rel="external nofollow noopener noreferrer">https://www.yutu.cn/softhtml/softsetup_1176.html</a></p><h3 id="开始补天"><a href="#开始补天" class="headerlink" title="开始补天"></a>开始补天</h3><h4 id="天空元素单一"><a href="#天空元素单一" class="headerlink" title="天空元素单一"></a>天空元素单一</h4><p><strong>适用：</strong> 云彩不多，可见物不多，或者说“元素”不多，天空整体比较干净纯净；</p><p><strong>实质：</strong> 通过<strong>选择区域-&gt;编辑-&gt;填充</strong>，最后加涂抹，来过渡延展原始内容；</p><p><strong>步骤：</strong> <a href="https://bbs.dji.com/thread-238753-1-1.html" target="_blank" rel="external nofollow noopener noreferrer">https://bbs.dji.com/thread-238753-1-1.html</a></p><p><strong>核心操作：</strong> 使用<strong>滤镜-&gt;其他-&gt;位移</strong>，把复杂元素移到中间，千万不要放在左右两边。左右两边在合成全景后是接缝区域，如果直接涂抹修改，几乎无法做到接缝不可见，但是通过位移将元素单一的区域作为接缝，那就会得到非常完美的全景图。</p><h4 id="天空元素复杂"><a href="#天空元素复杂" class="headerlink" title="天空元素复杂"></a>天空元素复杂</h4><p><strong>适用：</strong> 多云天气，整个天空几乎找不到一处“竖向纯色调”的区域，那么如果我们涂抹缺省的黑色部分，很难做到左右两侧的颜色一致，这会直接导致合成之后明显的接缝。所以此时不能使用上述的方法来补天。比较方便、快捷的方法是：更换现成的无接缝天空素材。</p><p><strong>步骤：</strong> <a href="https://zhuanlan.zhihu.com/p/36005588" target="_blank" rel="external nofollow noopener noreferrer">https://zhuanlan.zhihu.com/p/36005588</a></p><p><strong>核心操作：</strong> 使用蒙版+渐变+合并天空素材图层，来用素材的“完整”天空，补全原来的残缺的天空。</p><h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h3><p>这里，由于我的天空比较干净，所以我只需要填充加涂抹就可以得到一张比较好的全景图，不过如果你仔细看正上方的天空，依然能够看到接缝区域（虽然没有明显的接缝线）。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210308214809.png"></fancybox><p><strong>最终效果：</strong> <a href="https://720yun.com/t/34vkcmf7577" target="_blank" rel="external nofollow noopener noreferrer">https://720yun.com/t/34vkcmf7577</a></p>]]></content>
    
    <summary type="html">
    
      &lt;fancybox&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210309000832.png&quot;&gt;
&lt;/fancybox&gt;
    
    </summary>
    
    
      <category term="Daily_Life" scheme="https://www.cxmoe.com/categories/Daily-Life/"/>
    
    
      <category term="总结" scheme="https://www.cxmoe.com/tags/%E6%80%BB%E7%BB%93/"/>
    
      <category term="测评" scheme="https://www.cxmoe.com/tags/%E6%B5%8B%E8%AF%84/"/>
    
      <category term="摄影" scheme="https://www.cxmoe.com/tags/%E6%91%84%E5%BD%B1/"/>
    
  </entry>
  
  <entry>
    <title>网站改版/域名更换全步骤</title>
    <link href="https://www.cxmoe.com/article/3328.html"/>
    <id>https://www.cxmoe.com/article/3328.html</id>
    <published>2021-02-17T23:00:00.000Z</published>
    <updated>2021-03-08T21:01:06.000Z</updated>
    
    <content type="html"><![CDATA[<p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210220055122.png"></fancybox></p><p>更换域名在建站初期是经常发生的事情，无非就是DNS修改下解析，替换下内部代码，但对于运营过一段时间的、搜索引擎收录良好的“成熟”站点来说，修改域名，对网站流量和引擎收录简直就是灭顶之灾。正值最近本站刚更换了域名，就此来记录下作为一个网站，更换域名所需要考虑和修改的内容。</p><a id="more"></a><h3 id="更换DNS绑定域名"><a href="#更换DNS绑定域名" class="headerlink" title="更换DNS绑定域名"></a>更换DNS绑定域名</h3><p>这一步不再赘述，无非就是解绑旧域名，换绑新域名。</p><h3 id="301重定向（重要！）"><a href="#301重定向（重要！）" class="headerlink" title="301重定向（重要！）"></a>301重定向（重要！）</h3><p>此步骤是重中之重！对搜索引擎来说，有专门的网站改版提交入口，目的是主动通知搜索引擎你的原站链接变更，从而加快新域名链接的收录，但完成网站改版的验证，（百度，谷歌）都需要你将旧域名的链接通过<strong>301重定向</strong>来跳转到新链接。需要注意的是：</p><ul><li>强烈建议网站改版的链接按照规则来更新。最理想的规则是 <strong>a.com/1.html =&gt; b.com/1.html</strong>，即网站内容不变，仅仅是更换域名而已。</li><li>百度站长平台支持你自定义链接替换规则。</li></ul><h4 id="如何完成301重定向？"><a href="#如何完成301重定向？" class="headerlink" title="如何完成301重定向？"></a>如何完成301重定向？</h4><ul><li><strong>html或js跳转[X]</strong>。对于绝大部分使用托管服务搭建站点的用户来说，通过一个单独的page进行跳转是最佳方案了。实现方法非常多，可以利用404.html页面，借助JavaScript进行自定义跳转，但是！！这样的跳转并不是带HTTP状态的301重定向。遗憾的是，对于Github和Coding，他们并不支持搜索引擎所需要的301重定向。</li></ul><p><strong>物理机/docker服务</strong>。这是最正统的实现方法，比如使用物理主机，通过Nginx配置即可完成重定向工作。但我没有云服务器我就没机会了吗？非也！HeroKu在等你！HeroKu也是一个站点托管平台，但突出点在于托管的实体对象，是docker对象，也就是说，理论上Heroku的托管应用就可以实现301重定向，确实，他们可以！</p><p><strong>①</strong> 在Ubuntu上使用，只需要先安装heroku，再将重定向项目克隆并上传到你的heroku应用中，最后配置所谓的“重定向路径”。具体步骤如下：</p><p>（其他平台安装参见：<a href="https://devcenter.heroku.com/articles/heroku-cli）" target="_blank" rel="external nofollow noopener noreferrer">https://devcenter.heroku.com/articles/heroku-cli）</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ sudo snap install --classic heroku</span><br><span class="line">$ heroku login</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/joeyAghion/rerouter.git </span><br><span class="line">$ <span class="built_in">cd</span> rerouter</span><br><span class="line">$ git init</span><br><span class="line">$ heroku git:remote -a redirectold //heroku项目名称</span><br><span class="line"></span><br><span class="line">$ git add . //克隆后要修改一处地方！！</span><br><span class="line">$ git commit -am <span class="string">"make it better"</span></span><br><span class="line">$ git push heroku master</span><br><span class="line"></span><br><span class="line">$ heroku config:<span class="built_in">set</span> REDIRECTS=<span class="string">"&#123;'www.cz5h.com'=&gt;'www.cxmoe.com'&#125;"</span></span><br><span class="line">$ heroku domains:add cz5h.com</span><br></pre></td></tr></table></figure><p>注意：克隆之后的源代码需要修改一下，把跳转链接改为 <code>https</code>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">require &#39;rack&#x2F;rewrite&#39;</span><br><span class="line"># Expects ENV[&#39;REDIRECTS&#39;] to be a ruby hash of source hostnames to destination hostnames. E.g.:</span><br><span class="line">#   &quot;&#123;&#39;old.domain.com&#39; &#x3D;&gt; &#39;new.domain.com&#39;&#125;&quot;</span><br><span class="line">REDIRECTS &#x3D; eval(ENV[&#39;REDIRECTS&#39;] || &#39;&#39;) || &#123;&#125;</span><br><span class="line">use Rack::Rewrite do</span><br><span class="line">  REDIRECTS.each do |from, to|</span><br><span class="line">    r301 %r&#123;.*&#125;, &quot;https:&#x2F;&#x2F;#&#123;to&#125;$&amp;&quot;, if: -&gt; (env) &#123; env[&#39;SERVER_NAME&#39;] &#x3D;&#x3D; from &#125;</span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line"># Fall back to default app (empty).</span><br><span class="line">run -&gt; (env) &#123; [200, &#123;&#125;, []] &#125;</span><br></pre></td></tr></table></figure><p><strong>②</strong> 完成之后，即可在Heroku网站上看到修改的内容，尤其是Redirects配置。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210220001606.png"></fancybox></p><p><strong>③</strong> 之后，为了匹配缺省域名，我们需要两个域名绑定，分别是“a.com”和“<a href="http://www.a.com”。" target="_blank" rel="external nofollow noopener noreferrer">www.a.com”。</a></p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210219034340.png"></fancybox></p><p><strong>④</strong> 除此之外，为了完全对应新站链接，此处的heroku所使用的协议，应该跟我的站点一致也是“https://”，为了开启https，万恶的Heroku需要你在网站绑定信用卡，之后才可以顺利开启https。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210220001541.png"></fancybox></p><p><strong>⑤</strong> 还有，我们的301重定向需要全天可用，但heroku仅对付费者提供此项服务，因此最后选择了最便宜的类型，无需维护301太长时间，一两个月足以。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210219040419.png"></fancybox></p><p><strong>⑥</strong> 一切就绪后，下面所示的SSL证书会自动添加。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210219040517.png"></fancybox></p><p><strong>⑦</strong> 大功告成之后，可以去站长工具查询Http状态，当返回状态码和HEAD信息正确时，那就是301重定向已经搞定。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210219044155.png"></fancybox></p><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h3 id="网站统计代码重置"><a href="#网站统计代码重置" class="headerlink" title="网站统计代码重置"></a>网站统计代码重置</h3><p>汇总一下，主要有：</p><ul><li>谷歌Analytics</li><li>百度统计</li><li>360站长</li><li>cnzz</li></ul><h3 id="网站地图重新提交"><a href="#网站地图重新提交" class="headerlink" title="网站地图重新提交"></a>网站地图重新提交</h3><p>我在以下平台重新提交了XML文件，</p><ul><li>baidu统计 （+robot.txt）</li><li>360站长</li><li>谷歌console</li></ul><h3 id="主动通知网站改版"><a href="#主动通知网站改版" class="headerlink" title="主动通知网站改版"></a>主动通知网站改版</h3><p>最后的步骤：去百度站长反映你要换域名了；去 Google Console 来提交网站改版。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210219042138.png"></fancybox></p><p>下图显示谷歌的配置正确之后的结果。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210219130252.png"></fancybox></p><h3 id="更换第三方依赖域名"><a href="#更换第三方依赖域名" class="headerlink" title="更换第三方依赖域名"></a>更换第三方依赖域名</h3><ul><li><strong>webpushr</strong> //推送订阅弹窗</li><li><strong>valine邮件</strong>模板 //邮件设定</li><li>全局查找Hexo的theme主题文件夹，找到旧域名替换。</li></ul><h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h3><ol><li><p>百度的网站改版校验非常奇怪，谷歌测试无误后，在百度站长就是校验失败，已经致信客服寻求帮助。</p></li><li><p>不必在意改版后的收录情况，一两个星期看一次就够啦，毕竟是一个重新收录的过程！</p></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;fancybox&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210220055122.png&quot;&gt;&lt;/fancybox&gt;&lt;/p&gt;
&lt;p&gt;更换域名在建站初期是经常发生的事情，无非就是DNS修改下解析，替换下内部代码，但对于运营过一段时间的、搜索引擎收录良好的“成熟”站点来说，修改域名，对网站流量和引擎收录简直就是灭顶之灾。正值最近本站刚更换了域名，就此来记录下作为一个网站，更换域名所需要考虑和修改的内容。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站组网" scheme="https://www.cxmoe.com/categories/%E5%BB%BA%E7%AB%99%E7%BB%84%E7%BD%91/"/>
    
    
      <category term="301重定向" scheme="https://www.cxmoe.com/tags/301%E9%87%8D%E5%AE%9A%E5%90%91/"/>
    
      <category term="SEO" scheme="https://www.cxmoe.com/tags/SEO/"/>
    
      <category term="网站改版" scheme="https://www.cxmoe.com/tags/%E7%BD%91%E7%AB%99%E6%94%B9%E7%89%88/"/>
    
  </entry>
  
  <entry>
    <title>远离借呗！查询你的个人征信</title>
    <link href="https://www.cxmoe.com/article/62bb.html"/>
    <id>https://www.cxmoe.com/article/62bb.html</id>
    <published>2021-01-27T23:00:00.000Z</published>
    <updated>2021-03-08T21:01:10.000Z</updated>
    
    <content type="html"><![CDATA[<p>在过去一年的年末，支付宝可谓是经历了巨大的风波，从蚂蚁金服上市被叫停整改，到马云的人设出现崩塌，似乎大家都有了一个比较统一的观念，那就是逃离蚂蚁花！对于相当一部分年轻人，蚂蚁花呗、蚂蚁借呗已经成了其生活中必不可少的工具，但同时也有相当一部分人深陷超前消费的漩涡中无法自拔…</p><a id="more"></a><h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a><strong>前言</strong></h4><p>面对花呗借呗，除了金钱上每月入不敷出的煎熬和压力外，你所承担的，或许还要更多，你今天的随意挥霍，可能带来的是可以对你今后人生造成巨大影响的隐患！借呗接入征信这是人尽皆知的，花呗最近也在部分对接征信！</p><p>以借呗为例，这个以花呗大哥身份悄然出现的新形式，点点支付宝，无需抵押无需任何资料文件，你就可以得到几千上万元真金白银，相当长的一段时间里，其受到了大部分年轻人喜爱，但后来的日子里，随着我国征信系统的不断完善，信用一词逐渐浮出水面，并通过关联各种公公资源服务，逐渐成为了一种无形且有力的约束系统。在这种情势下，以前的逾期不还、逾期几个月再还，都会在征信上给你记录的清清楚楚，等到你真正需要用到征信时，或许只能含泪悔恨当初的自己。</p><p>那么征信到底约束何人？约束老赖？错误！不要以为只有老赖才会被征信不良记录所惩治，其实只要你的征信不良记录达到一个标准，那么你就是所谓的“潜在失信人”，直接关系到你能不能顺利办理房贷、车贷等等业务。这个标准目前是：</p><blockquote><p>五年内累计超过三个月，或者存在超过90天的逾期；<br>征信机构对个人不良信息的保存期限，自不良行为或者事件终止之日起为5年；</p></blockquote><p>很难实现吗？如果你沉迷于用借呗（或者将来的花呗），一点也不难！<br>也就是说：即使你不是老赖，只要你忘记还、拖延还、或者是手机问题还不了（注意借呗通常只能手机还款），不管你什么理由，五年内逾期时间超限，那么你就是“问题人”！</p><p>这对于粗心的使用者，是及其危险的！</p><p>所以如果你不是个谨小慎微的人，切勿触碰支付宝的蚂蚁借呗！以及马上对接征信的花呗！这些形式用及其方便的操作习惯，让我们把警惕性降到了最低。尤其是对于苦逼的刚步入社会的年轻人来说，工作累、花钱多，借呗花呗用着挺爽，偶尔逾个期貌似也没关系，但对他们来说人生的下一步将是借房贷车贷来买房买车，到那时候，或许不少人看着自己满目疮痍的征信记录会欲哭无泪！</p><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h4 id="前言-1"><a href="#前言-1" class="headerlink" title="前言"></a><strong>前言</strong></h4><p>说了这么多，到底怎么查征信记录呢，EASY，一步步来即可。</p><p><strong>1 登录 <a href="https://ipcrs.pbccrc.org.cn/" target="_blank" rel="external nofollow noopener noreferrer">https://ipcrs.pbccrc.org.cn/</a></strong></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210128045720.png"></fancybox><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210128044756.png"></fancybox><p><strong>2 获取银联验证码</strong></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210128045147.png"></fancybox><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210128045455.png"></fancybox><p><strong>3 填写选项提交</strong></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210128050518.png"></fancybox><p><strong>4 等待两天左右获得结果</strong></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210128050129.png"></fancybox><p><strong>5 借呗记录！</strong></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210128050033.png"></fancybox><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210128023853.png"></fancybox><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210128023939.png"></fancybox><p><strong>6 查询记录，一般是信用卡办理</strong></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20210128024103.png"></fancybox>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在过去一年的年末，支付宝可谓是经历了巨大的风波，从蚂蚁金服上市被叫停整改，到马云的人设出现崩塌，似乎大家都有了一个比较统一的观念，那就是逃离蚂蚁花！对于相当一部分年轻人，蚂蚁花呗、蚂蚁借呗已经成了其生活中必不可少的工具，但同时也有相当一部分人深陷超前消费的漩涡中无法自拔…&lt;/p&gt;
    
    </summary>
    
    
      <category term="Daily_Life" scheme="https://www.cxmoe.com/categories/Daily-Life/"/>
    
    
      <category term="征信记录" scheme="https://www.cxmoe.com/tags/%E5%BE%81%E4%BF%A1%E8%AE%B0%E5%BD%95/"/>
    
      <category term="信贷" scheme="https://www.cxmoe.com/tags/%E4%BF%A1%E8%B4%B7/"/>
    
      <category term="借呗" scheme="https://www.cxmoe.com/tags/%E5%80%9F%E5%91%97/"/>
    
  </entry>
  
  <entry>
    <title>后科技时代—赛博朋克2077</title>
    <link href="https://www.cxmoe.com/article/e6cd.html"/>
    <id>https://www.cxmoe.com/article/e6cd.html</id>
    <published>2020-12-11T23:00:00.000Z</published>
    <updated>2021-03-08T21:01:05.000Z</updated>
    
    <content type="html"><![CDATA[<fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20201214004526.png"></fancybox><p>跳票多次终于还是来了，发售之日便收回成本这几乎是前无古人后无来者，这样一款现象级大作，我肯定也是忍不住滴，而且我的台式机配置还不错，一直没找到真正发挥作用的机会，终于借此机会，一赌大作风采！</p><a id="more"></a><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a><strong>前言</strong></h3><p>由于波兰蠢驴发行游戏时并没有采取加密，也就是说作为单机游戏的《赛博朋克2077》，盗版瞬间就满天飞了，不过蠢驴貌似也是故意的，前期的宣发加自身质量注定这游戏是要大赚的，且后期的DLC也会让他们赚的盆满钵满。那不用担心收益，还需考虑什么呢？传播度！我觉得他们的目标是制作一款《GTA》级别的游戏，不仅好玩，而且广为流传。众所周知，3A大作年年有，可真正深入人心代代流传的，可能就那么几个。当然，支持正版我们每个人责无旁贷，298元，不贵的，希望您看到这里坚持本心，购入正版。</p><h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a><strong>准备工作</strong></h3><p>摆脱掉上个话题，我们直奔主题：什么样的机器可以玩？说实话，我一开始被风评搞得以为我的2060s都不能畅玩，但事实不是这样的，如果你的图形参数调整到“合适”的值，再加上N卡的DLSS这种技术的加持，低配玩Cp2077也是可能的，我不是专家也没法测评，最好的办法就是下载下来试一下，64G一晚上就搞定啦。</p><h3 id="游戏下载"><a href="#游戏下载" class="headerlink" title="游戏下载"></a><strong>游戏下载</strong></h3><p>请移步Steam购买正版，如果您实在囊中羞涩又发誓绝不使用盗版，那么请跪求购入正版之人，认其做父，然后让其家庭分享给你即可。</p><p>如果您坚持到这里，那您一定是想白嫖的那位，我转存到天翼云了，各位自便，版本1.40。</p><ul><li><strong>游戏附件（Cyberpunk 2077.7z 64G）下载：</strong> 16个文件合并解压一处即可，点击bin目录内exe即可畅玩。<a href="https://www.cxmoe.com">//CZ5H.COM//</a>以下访问码均换为数字：<br><a href="https://cloud.189.cn/t/mYz2y2eqAZzm" target="_blank" rel="external nofollow noopener noreferrer">https://cloud.189.cn/t/mYz2y2eqAZzm</a> ，访问码:nq三p</li><li><strong>修改器下载：</strong><br><a href="https://cloud.189.cn/t/UJbmmaQ7rIVb" target="_blank" rel="external nofollow noopener noreferrer">https://cloud.189.cn/t/UJbmmaQ7rIVb</a> ，访问码:zk九五</li><li><strong>本文链接：<a href="https://cz5h.com/article/e6cd.html" target="_blank" rel="external nofollow noopener noreferrer">https://cz5h.com/article/e6cd.html</a></strong></li></ul><h3 id="性能测试"><a href="#性能测试" class="headerlink" title="性能测试"></a><strong>性能测试</strong></h3><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20201214014910.png"></fancybox><p>游戏默认的全高特效，部分材质是超级，加之分辨率为2K，所以不开启DLSS的状态下，只有十几FPS，但如果开启DLSS模式，那就可以到60+FPS，可以畅玩无压力，面对静态材质，仍然具有2K的高质量画质。</p><p>通过游戏加加的监控可以发现，硬件性能被利用的不错，且FPS稳定60+，玩着非常爽。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/QQ图片20201213224004.png"></fancybox><ul><li><strong>游戏加加的下载：</strong><br><a href="https://gamepp.com/download.html" target="_blank" rel="external nofollow noopener noreferrer">https://gamepp.com/download.html</a></li></ul><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h3 id="初体验"><a href="#初体验" class="headerlink" title="初体验"></a><strong>初体验</strong></h3><p><strong>绝美的赛博朋克风。</strong> 赛博朋克其实是一种科技高度发展的想象风格，说的是科技水平相当之高（义体，AI遍地），但人类却依然在精神层面没怎么进化，也就是说2077的人类，和我们差不多，但拥有2077年的超强科技，这种设定本身就是讨巧的，可以让现代人很容易产生代入感，同时又用各种“高大”、“雄壮”的科技大厦来震撼每个现代人的感官。《赛博朋克2077》中这种话面比比皆是。</p><p>你会发现里面并不包含太多工业化的东西，如果有很多，那就应该归类为蒸汽朋克了，那又是一种对未来的想象了。还有没有其他的呢？有，那便是“废土”风格，类似《辐射》等游戏就是这种类型，设定为毁灭后的后人类时代，玩起来又是另一番体验（2077之中亦有此风格的部分）。</p><p><strong>细微之处显真章。</strong> 游戏的开放程度，是超出我预期的，当然都在情理之中。</p><ul><li>某些街边的小吃摊的锅碗瓢盆，都能被打烂。</li><li>某些工业设施可以各种攀爬跳跃。</li><li>某些街边桥下的死角也可以随意畅玩。</li><li>关于光追及技术提升带来的真实感亦很震撼。<fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/photomode_13122020_204854.png"></fancybox></li></ul><p><strong>不足之处也不少。</strong> 首先就是细微之处仍然不够细微：</p><ul><li>大楼不少，但能进去的就那几个；</li><li>NPC的举动有时依然很反人类很搞笑；</li><li><strong>原本剧情和你主动触发的意外情节会冲突，</strong> 比如开局阶段，当你去小吃摊和NPC对话时，如果你被警察围追且被攻击，NPC会不紧不慢的重复自己的台词，即使手榴弹满地炸，NPC依然坐在小吃摊吃东西。</li><li>反射问题。在水中、在玻璃面前，你都无法看到自己，尤其是在水中/水边，你无法低头看到倒影，有点诡异。</li><li>死角BUG。前面说了，某些犄角旮旯（比如从桥上跳下去到达的那种），也能走动自如自由探索，但我发现一个地方<strong>跳进去就出不来了！</strong>位置如地图绿色箭头所示，感兴趣的各位可以去试试，那个位置有两个大垃圾箱，有个过道可以翻越围栏过去，不过那边是死路，即你跳进去就只能读档重来了，按游戏设计正常不应该有这种死角。<fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/QQ截图20201213214124.png"></fancybox></li></ul><h3 id="关于游戏的玩法"><a href="#关于游戏的玩法" class="headerlink" title="关于游戏的玩法"></a><strong>关于游戏的玩法</strong></h3><ul><li>正经做任务路线；</li><li>武器大师(制造升级)路线；</li><li>摄影大师(截图)路线；<strong>自带的截图工具太给力啦！</strong></li><li>城市探险(犄角旮旯)路线；</li><li>为非作歹路线；</li></ul><p>每个路线都非常可玩，由于此游戏的NPC触发剧情很多，所以讲道理可以玩很长的时间，而且可能正经玩家玩着玩着就被美轮美奂的景色吸引转职做摄影大师也未可知。</p><p><strong>最后以一张不夜城夜景结束本文。</strong></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20201214022709.png"></fancybox>]]></content>
    
    <summary type="html">
    
      &lt;fancybox&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20201214004526.png&quot;&gt;
&lt;/fancybox&gt;

&lt;p&gt;跳票多次终于还是来了，发售之日便收回成本这几乎是前无古人后无来者，这样一款现象级大作，我肯定也是忍不住滴，而且我的台式机配置还不错，一直没找到真正发挥作用的机会，终于借此机会，一赌大作风采！&lt;/p&gt;
    
    </summary>
    
    
      <category term="Mini-ITX小钢炮" scheme="https://www.cxmoe.com/categories/Mini-ITX%E5%B0%8F%E9%92%A2%E7%82%AE/"/>
    
    
      <category term="赛博朋克" scheme="https://www.cxmoe.com/tags/%E8%B5%9B%E5%8D%9A%E6%9C%8B%E5%85%8B/"/>
    
      <category term="赛博朋克2077" scheme="https://www.cxmoe.com/tags/%E8%B5%9B%E5%8D%9A%E6%9C%8B%E5%85%8B2077/"/>
    
      <category term="Cyberpunk 2077" scheme="https://www.cxmoe.com/tags/Cyberpunk-2077/"/>
    
      <category term="附带修改器" scheme="https://www.cxmoe.com/tags/%E9%99%84%E5%B8%A6%E4%BF%AE%E6%94%B9%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>极米Z4X观看奈飞油管完美教程</title>
    <link href="https://www.cxmoe.com/article/b15f.html"/>
    <id>https://www.cxmoe.com/article/b15f.html</id>
    <published>2020-11-23T23:00:00.000Z</published>
    <updated>2021-07-04T02:53:03.000Z</updated>
    
    <content type="html"><![CDATA[<fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20201125194610.png"></fancybox><p>翻遍网络没找到完整的教程，有必要自己写写了。通过此方案，你可以用你的<strong>极米Z4X直接观看YouTubeTV、Netflix</strong>，完美解决极米Z4X海外体验差的痛点！本文包括全部文件的下载地址，极米Z4X完全可以照搬，对于其他型号，执行步骤相似、方案完全可行。</p><a id="more"></a><h3 id="基本的认知"><a href="#基本的认知" class="headerlink" title="基本的认知"></a><strong>基本的认知</strong></h3><p>有人说YouTubeTV可以直接在原厂固件安装，是这样的，但问题是缺少谷歌框架你就无法登陆谷歌账号，无法体验Chrome投屏！所以体验差十万八千里。</p><p>也有人说用手机看youtube再投屏也可以，是这样的，但问题是如果你只是手机用小飞机，那么手机看youtube时就和电视不在一个局域网内了，也就无法投屏；即便你用路由器fq，确实是可以看，但第一画质很低，第二你的投影依旧是个显示器，并没有挖掘其本身的性能（2+8G并不差）！</p><p>还有人说，如果你的机器安卓版本太低，那就没希望了，因为 youtubeTV 在 Andorid 5.1 以下的系统都不支持了。（实际是可以的！） </p><p>目前公认/极米官方论坛的说法是只有比较新的投影支持海外版固件的互刷，也就是说官方结论：<strong>极米Z4X及一些早起型号无法通过刷固件方式来获得海外体验</strong>，那么谷歌安装器的路子呢（软件方式）？大部分文章或帖子都没给出明确答案，不过阅读了大量的帖子之后发现，软件方式同样有几个公认的模糊地带：</p><ul><li>极米Z4X能否安装谷歌框架？</li><li>能否正常使用谷歌商店？</li><li>能否安装并登陆YoutubeTV？<strong>能！</strong></li><li>能否不授权就登陆Netflix？<strong>能！</strong></li></ul><p>其他型号同理，理论上是一样的问题，但我无法测试。总之，先说结论：以上看YT看NF全部是可行的，至少我的Z4X全部可以做到！<strong>重点就是你安装软件的版本需要和你机器安卓版本相对应！</strong>，另外，在我们开始软件安装前，我强烈建议你将你的极米Z4X刷成精简系统（在原厂包基础上的精简），这样一是可以有更多空间和性能来供后期youtube和奈飞的使用，二是官方最新固件貌似会在安装谷歌框架时出现问题。（更多详细内容请移步cz5h.com）</p><h3 id="精简你的固件系统"><a href="#精简你的固件系统" class="headerlink" title="精简你的固件系统"></a><strong>精简你的固件系统</strong></h3><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/411312312313.jpg"></fancybox><p>这部分是通用的，因为这里面共享了大部分型号的固件，此精简固件删掉了全部（奇异果等等）第三方内置应用，只保留了基础的功能性APP，安装后会发现系统占用才300M，性能储备充足！（上图的定位是错的，没找到怎么改..）</p><p>原厂包+精简包，下载地址：<br>链接：<a href="https://pan.baidu.com/s/1wta4E5DVbfcB4UIKFhbgkQ" target="_blank" rel="external nofollow noopener noreferrer">https://pan.baidu.com/s/1wta4E5DVbfcB4UIKFhbgkQ</a><br>提取码：92ty</p><p>找到你的型号对应的文件，下载下来并解压，就是两个bin文件。</p><p><strong>下面开始刷机：</strong></p><ol start="0"><li>准备：U盘 2.0 fat32格式  16G或以下（纯净U盘），刷之前格式化下！</li><li>将原厂包的bin文件放入格式化完的U盘。</li><li>断开极米投影设备的所有网络，有线网络和无线网络（否则刷完还会有开机广告）！</li><li>把U盘插到投影USB2.0接口，在当前（还未刷）系统下进入设置-&gt;系统升级-&gt;U盘升级，来触发刷机；</li><li>耐心等待刷机完成，大概十分钟左右。（亲测不需要重配遥控器，但如果有必要请重新匹配遥控器）</li><li>拔掉U盘，删除此时U盘内的全部文件（格式化），再拷贝精简包的bin文件到U盘；</li><li>在当前（已刷成原厂固件）系统下进入设置-&gt;系统升级-&gt;U盘升级，来触发刷机；</li><li>这次的刷机完成后，精简系统就刷完了。</li><li>默认当贝影视桌面+自带当贝市场，对后续操作十分友好！</li></ol><p>OK！现在你已经得到了非常纯净的固件系统，此时你的投影仪应该会比之前要流畅的多，且使用过程非常舒服，自带当贝安装软件非常方便，下面我们就来装一些软件，来做下一步的准备工作。（下图是我装完谷歌套件和油管奈飞之后的文件占用情况，<strong>吓不吓人！</strong>不得不说安装4.x版本的软件是真的小啊！）</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20201125202906.png"></fancybox><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h3 id="安装实用工具和谷歌框架"><a href="#安装实用工具和谷歌框架" class="headerlink" title="安装实用工具和谷歌框架"></a><strong>安装实用工具和谷歌框架</strong></h3><p>直接在当贝搜索：<strong>3S一键ROOT</strong>、<strong>RE文件管理器</strong>（注意不是ES！）。找到后安装即可。<br>首先用一键ROOT获取权限（必须），无所谓保修不保修，我用了三年了就没出过问题。<br>之后，是一个可选步骤，用RE挂载局域网的共享文件夹（SMB），这样做的目的是，我用电脑将apk下载到指定文件夹内之后，直接就能用RE管理器看到并点击安装！<br>当然，你也可以用当贝的“远程推送”功能，在浏览器页面上传文件。或者你不嫌麻烦用U盘拷贝。</p><p>以上步骤其实就是root了一下，下面就开始安装Google框架了</p><p>从此处开始，你需要到你的投影设置页面，去看你机器的安卓版本，并记住！如果你是安卓4.x，那么务必不要去下载最新版的谷歌安装器(最新版本号为4.0)，请下载3.0的谷歌安装器，（图暂时找不到了骚瑞）。安装方式是半手动的弹出一系列谷歌软件让你安装，<strong>此刻你的网络环境应该是十分科学的</strong>，不然你会卡着不动。</p><p><strong>谷歌安装器：</strong><a href="https://cn.apksum.com/download/com.goplaycn.googleinstall_4.7_free" target="_blank" rel="external nofollow noopener noreferrer">https://cn.apksum.com/download/com.goplaycn.googleinstall_4.7_free</a></p><p>整个过程走完，谷歌框架就完美安装上了，这时大概率你会发现，你的谷歌商店会显示“从服务器检索信息出错”，没关系，不影响！</p><h3 id="安装匹配的海外应用"><a href="#安装匹配的海外应用" class="headerlink" title="安装匹配的海外应用"></a><strong>安装匹配的海外应用</strong></h3><p>原则：安卓版本&lt;=极米系统的安装版本；推荐使用 <a href="http://www.apkmirror.com" target="_blank" rel="external nofollow noopener noreferrer">www.apkmirror.com</a> 来检索我们所需要的软件，该网站有全部版本的apk备份，并且提供详细的对应支持的安卓版本！（比如下面这个我安卓4.3是装不上的）</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20201125042907.png"></fancybox><p>NOW，让我们找几个应用体验下：Netflix、YouTubeTV只要安卓版本不超出，都是可以正常安装的！<br>如果你是Z4X（安卓4.3），那么可以直接用一下链接：</p><p><strong>Netflix：</strong><br><a href="https://www.apkmirror.com/apk/netflix-inc/netflix/netflix-3-16-6-build-5382-release/netflix-3-16-6-build-5382-android-apk-download/download/" target="_blank" rel="external nofollow noopener noreferrer">https://www.apkmirror.com/apk/netflix-inc/netflix/netflix-3-16-6-build-5382-release/netflix-3-16-6-build-5382-android-apk-download/download/</a></p><p><strong>YouTubeTV：</strong><br><a href="https://drive.google.com/a/ka8.hk/uc?authuser=0&amp;id=1aIeXGKyEH9H1ita9Ifj5iW-EYz_tFJw0&amp;export=download" target="_blank" rel="external nofollow noopener noreferrer">https://drive.google.com/a/ka8.hk/uc?authuser=0&amp;id=1aIeXGKyEH9H1ita9Ifj5iW-EYz_tFJw0&amp;export=download</a></p><p>注：这原本是解决其他低版本安卓设备问题的 Smart youtubeTV，我尝试安装在Z4X上，发现运行非常稳定。其内置四个youtubeTV模式，我选用的是第四个（LITE Alt），LITE Main模式会非常卡顿。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/345345234523.jpg"></fancybox><p><strong>奈飞登陆无压力有木有！</strong></p><p>其他的任何软件，<strong>只要支持你设备的安卓版本</strong>，都可以顺利的安装成功！</p><p>全部安装完之后，你会发现，虽然我们的谷歌商店是不可用的状态，但登陆youtube账号时并没有出现问题，登陆之后就和原生安卓TV的youtube体验完全相同了！实测播放画质最高可到<strong>1920x1080@30</strong>，30fps会有一点点卡顿的感觉，影响不大。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20201125200550.png"></fancybox><p>对于Netflix，同样需要注意，这里装的是安卓版，非TV应用（TV应用最低支持安卓5）。不过视频还是很清晰的，而且非常流畅（目测稳定720@30fps）。由于是安卓应用，所以遥控体验不太好，搭配个无线鼠标就非常惬意了！顺便一说，如果你不是全尺寸投屏，距离近一些的话画面会细腻的多！</p><p>整体上观看YT和NF时，投影的发热量是比较明显的，但是Z4X屁股里有个大风扇，散热效果非常不错，所以问题不大。（更多详细内容请移步cz5h.com）</p><ul><li><p>这里放一个虎牙TV版本，不是官方的云视听TV版！官方版本的直播在东八区零点到八点是没法看的，这个第三方虎牙版本还是很强的，可以登录虎牙账号，甚至可以发弹幕。（原名叫高清游戏直播TV版，进去之后会让你更新，更新完之后就是虎牙TV版了，是个非官方的第三方版本）<br>高清游戏直播TV版：<a href="https://down.qwp365.cn/tv/gaoqingyouxizhibotvban.apk" target="_blank" rel="external nofollow noopener noreferrer">https://down.qwp365.cn/tv/gaoqingyouxizhibotvban.apk</a></p></li><li><p>有丰富海外软件的应用市场：<a href="https://aptoidetv-qumi-q38.en.aptoide.com/app" target="_blank" rel="external nofollow noopener noreferrer">https://aptoidetv-qumi-q38.en.aptoide.com/app</a><br>装完这个就不用自己找应用下载了，里面应有尽有。</p></li></ul><h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a><strong>后记</strong></h3><p>至此，你原来那台充斥着捆绑应用和广告的极米投影，摇身一变，变成了拥有 youtubeTV + Netflix 的电视投影！要知道小米、亚马逊等推出的电视棒，功能也不过如此（当然更强悍，安卓版本都是7.0起步了），能看 youtubeTV 和 Netflix 的投影，完全可以当做电视了！所以，如果你也想“全面升级”你的极米投影，那就参考本文开干吧，和从前那个鸡肋的原厂固件系统说拜拜，全新的体验在等着你！Peace.</p><p>注1：以上所有出现的软件均可正常在极米Z4X上使用，如果你的机器是Android-4.3.x以上，同样可以使用。<br>注2：所有截图均通过<strong>极米助手</strong>完成。</p>]]></content>
    
    <summary type="html">
    
      &lt;fancybox&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20201125194610.png&quot;&gt;
&lt;/fancybox&gt;

&lt;p&gt;翻遍网络没找到完整的教程，有必要自己写写了。通过此方案，你可以用你的&lt;strong&gt;极米Z4X直接观看YouTubeTV、Netflix&lt;/strong&gt;，完美解决极米Z4X海外体验差的痛点！本文包括全部文件的下载地址，极米Z4X完全可以照搬，对于其他型号，执行步骤相似、方案完全可行。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Daily_Life" scheme="https://www.cxmoe.com/categories/Daily-Life/"/>
    
    
      <category term="极米投影" scheme="https://www.cxmoe.com/tags/%E6%9E%81%E7%B1%B3%E6%8A%95%E5%BD%B1/"/>
    
      <category term="刷机" scheme="https://www.cxmoe.com/tags/%E5%88%B7%E6%9C%BA/"/>
    
      <category term="YouTube" scheme="https://www.cxmoe.com/tags/YouTube/"/>
    
      <category term="谷歌框架" scheme="https://www.cxmoe.com/tags/%E8%B0%B7%E6%AD%8C%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>给你的Win平板安装ChromeOS系统</title>
    <link href="https://www.cxmoe.com/article/b192.html"/>
    <id>https://www.cxmoe.com/article/b192.html</id>
    <published>2020-11-08T23:00:00.000Z</published>
    <updated>2021-03-08T21:01:05.000Z</updated>
    
    <content type="html"><![CDATA[<fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/Screenshot 2020-11-09 at 08.40.47 (1).png"></fancybox><p>你是否觉得你的Win10平板性能太弱、娱乐性没有（跑不动）、用触屏不爽（屏太小）、系统掉电超快、想丢掉却又不舍得？拯救你鸡肋平板的方法来了！给你的平板换装ChromeOS，你会拥有全新的平板体验，或许你会再次对你的平板爱不释手！</p><a id="more"></a><p>我的机器配置：</p><ul><li>CPU: Intel Core m3-6Y30</li><li>Mem: 4GB</li></ul><p>详细外貌及参数可在<a href="https://post.smzdm.com/p/548619/" target="_blank" rel="external nofollow noopener noreferrer">这里</a>找到。</p><h3 id="啰嗦几句"><a href="#啰嗦几句" class="headerlink" title="啰嗦几句"></a><strong>啰嗦几句</strong></h3><p>Win10平板，在过去有段时间像雨后春笋般在市场上出现，以酷比魔方为代表的平板厂商，号称已经可以达到苏菲婆的体验了，我用的这个已经算是高端寨本了，但对我来说还是“小”！Windows就不应该出现在这么小的屏幕上，另外由于性能原因，娱乐性也几乎没有，不过让我欣慰的是这个本子可以流畅玩红色警戒，有很长一段时间我都是外接24寸屏幕玩红警的，当然本子会超级烫。</p><p>总之，体验就是，你能在这个小本子上满足一切Win的“日常”需求，而且还可以触屏！但是，时间一久，触屏的新鲜感过了，我就迅速对其失去兴趣了，一个重要的原因就是搭载 Windows 耗电是真的快，充电线就跟电源线一样了，拔不得。综上，在我有了台式机之后（笔记本装Ubuntu了），这个本子就彻底被打入冷宫了。</p><p><strong>但是天不绝此本，ChromeOS来了！</strong></p><p>Chrome OS 在今天其实已经不新鲜了，甚至在我三年前买这个平板的时候就已经出现了，但是，ChromeOS 在这几年发展了非常多的东西，包括 ARC+ 等等技术在内，直到其开始兼容安卓应用开始，其才逐渐形成比较明显的、有优势的系统特性。我会在之后写一篇 ChromeOS 使用体验的文章，这里直接列几个优点：</p><ul><li>可以得到全系统目前最好的原生 Chrome 浏览器体验（一点也不开玩笑）！</li><li>可以兼容 80% 安卓应用，Appstore或许没有，但可以直接安装apk！</li><li>可以以极低的功耗运行，真的可以做“移动”平板了！</li><li>触屏更加接近安卓体验，比win10不知道好到哪里去了！</li><li>娱乐性剧增，办公性下降，这正是我想要的！</li><li>开机速度巨快！</li></ul><p><strong>如何知道自己的电脑能不能装呢？</strong></p><p>答案是基本就没有不能装的！只是你没找到对应的系统（代号），去<a href="https://zh.wikipedia.org/wiki/Chromebook" target="_blank" rel="external nofollow noopener noreferrer">维基的 Chromebook 页面</a>，去找你的型号对应的厂家型号的<strong>ChromeOS代号</strong>，比如我的：</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20201112231645.png"></fancybox><p>如果不幸列表内没有你的CPU型号，那你就只能找个相近的型号了（CPU代数优先），如何辨认是几代CPU？举个例子，i5-7200u是七代CPU，i7-6700hq是六代CPU，而我的 m3-6Y30 同样是六代CPU。</p><p>得到你的对应安装的<strong>版本代号</strong>，接下来就开始安装了！</p><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h3 id="开始安装ChromeOS！"><a href="#开始安装ChromeOS！" class="headerlink" title="开始安装ChromeOS！"></a><strong>开始安装ChromeOS！</strong></h3><h4 id="一、安装启动系统"><a href="#一、安装启动系统" class="headerlink" title="一、安装启动系统"></a><strong>一、安装启动系统</strong></h4><p>目前，市面上的全部 Chromebook 都是出厂即带系统，也就是说，ChromeOS 和 OSX 一样，没有第三方正版系统，当然 ChromeOS 实际体验中根本没有正版认证的附加功能等等，也没有提示让你注册的东西。也就是说，Google 没有提供BIOS安装套件，但这并不影响骚操作安装方法，即：通过另一个系统来安装！</p><p><strong>1. 制作U盘启动</strong></p><p>这里我用我现成的 UbuntuMate 的安装盘，（如果你没有，请用UtraISO写盘工具製作U盘啓动盘，默认是GPT分区）</p><p><strong>2. 将ChromeOS相关文件同样放进启动盘</strong></p><p>这一步当然可以在进入Ubuntu系统后再去下载，但是我们直接放进启动盘内就无需再在安装时联网下载了。</p><p>在启动盘内新建 Chrome OS（注意大小写空格）文件夹，然后放入以下两个文件<strong>（解压之后）</strong>。</p><ul><li><a href="https://github.com/sebanc/brunch/releases" target="_blank" rel="external nofollow noopener noreferrer">Chrome 安装框架</a></li><li><a href="https://cros-updates-serving.appspot.com/" target="_blank" rel="external nofollow noopener noreferrer">Chrome OS 恢复镜像</a>，按你的版本代号，下载最新版本（Recovery那列的最大的数字）</li></ul><p><strong>3. 平板插入U盘，装机</strong></p><p>BIOS修改启动项等等不再赘述，关键：到Ubuntu的Grub界面，直接点击<strong>不安装进入系统</strong>，我们不需要安装UbuntuMate，我们只进去借助其环境运行我们的脚本。</p><p>进去之后，在Home文件夹内找到 cdrom-&gt;ChromeOS，在此文件夹下新建个 install.sh 将以下代码放进去，淡然你也可以一条条执行，都一样。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install figlet</span><br><span class="line">sudo apt-get install pv</span><br><span class="line">sudo apt-get install cgpt</span><br><span class="line">sudo bash chromeos-install.sh -src cave_recovery.bin -dst /dev/sda</span><br><span class="line">注意：你的recovery.bin要对应你下载的bin文件名称，可能很长，无所谓的。</span><br></pre></td></tr></table></figure><p>即：</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/57352354353.png"></fancybox><p>之后回车，开始安装，中间会卡住询问你是否继续，键入 yes 继续，出现以下信息之后，即安装完成，之后便可以点击重启，然后拔掉U盘。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/534243525345345345.png"></fancybox><p><strong>4. 安装结束</strong></p><p>再次开机后，即可进入 ChromeOS 配置引导界面。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20201112235318.png"></fancybox><h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a><strong>后记</strong></h3><p>如果你可以找到对应你机器CPU型号的 Chromebook 机器，那么恭喜你，百分百可以顺利安装成功，如果没有，那么也不要怕，如果你懂一点Linux知识就会发现这个安装过程是真的非常简单，这个 xxx_recovery.bin 不行那就换另一个试试，总会找到的！</p><p>到今天为止，ChromeOS我也用了四五天了，头两天一度想要换掉这个系统，因为发现Play商店里的适配应用少的可怜，但后面发现 ChromeOS 早就可以直接安装第三方apk了！（有几率安装不成功那就是真的不适配），像QQ和微信在Play商店里是没有的，但经我测试全系列版本的移动端QQ均可以正常在ChromeOS上使用！</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/4n8795v3847584.png"></fancybox><p>下篇文章我就来写一下关于 ChromeOS 的绝佳使用体验！</p>]]></content>
    
    <summary type="html">
    
      &lt;fancybox&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/Screenshot 2020-11-09 at 08.40.47 (1).png&quot;&gt;
&lt;/fancybox&gt;


&lt;p&gt;你是否觉得你的Win10平板性能太弱、娱乐性没有（跑不动）、用触屏不爽（屏太小）、系统掉电超快、想丢掉却又不舍得？拯救你鸡肋平板的方法来了！给你的平板换装ChromeOS，你会拥有全新的平板体验，或许你会再次对你的平板爱不释手！&lt;/p&gt;
    
    </summary>
    
    
      <category term="Daily_Life" scheme="https://www.cxmoe.com/categories/Daily-Life/"/>
    
    
      <category term="ChromeOS" scheme="https://www.cxmoe.com/tags/ChromeOS/"/>
    
      <category term="安装" scheme="https://www.cxmoe.com/tags/%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>重写Hexo豆瓣影评插件及npm发布</title>
    <link href="https://www.cxmoe.com/article/5613.html"/>
    <id>https://www.cxmoe.com/article/5613.html</id>
    <published>2020-10-15T22:00:00.000Z</published>
    <updated>2021-03-08T21:01:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>不知道从什么时候开始，习惯于在豆瓣找电影看，到了后来，就偶尔写个电影观后感，随着看电影看的越来越多，可比较的东西就越来愈多，所以现在看完一部新电影，写写自己的感想就成了固定环节了，作为一种“动态”，能够搬到博客上与他人共享那是再好不过的了，找了一圈Hexo的插件，发现都不怎么好用，那么索性就魔改个自己用的版本！</p><a id="more"></a><p>基于HEXO豆瓣插件 <a href="https://github.com/mythsman/hexo-douban" target="_blank" rel="external nofollow noopener noreferrer">hexo-douban</a> 的二次开发插，强烈建议先试用原插件，如果您觉得以下特性更能满足您的需要，那么再使用本插件。</p><p><strong>原插件 hexo-douban 的不足：</strong></p><ul><li>书影音、大部分人就想放影评</li><li>样式不好看，字体大小的一致性即颜色</li><li>渲染全部观影记录，几百部电影会导致有几十页翻页，臃肿</li><li>单纯的构造豆瓣原页面，在“已看”列表中，只会出现短评内容，长影评是另外的部分</li><li>构造的页面目录较深，和博客其他部分关联度不够</li><li>主题兼容性问题，valine部分的缺失</li><li>移动端界面不适配/合适</li></ul><p><strong>对应的应对措施：</strong></p><ul><li>砍掉多余部分</li><li>适当的美化了CSS</li><li>设置拉取列表的长度控制</li><li>魔改原有xpath解析逻辑，拉取长影评页面内容，补全到“已看”列表</li><li>改动原模板中样式的位置，以便于无差别的插入到其他同原页面，提升关联度</li><li>插入资源文件和valine构建代码</li><li>简单的重写了移动端样式</li></ul><p><strong>本插件的主要特性：</strong></p><ul><li><a href="https://github.com/mythsman/hexo-douban" target="_blank" rel="external nofollow noopener noreferrer">原项目</a>固有特性；</li><li>重构模板页面，支持移动适配；</li><li>补全列表影评内容，支持短评和长影评（核心）；</li><li>支持生成指定长度的列表（对于观影数量较多的用户）；</li><li>样式inline化，允许直接嵌入同源其他页面；<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"dbcontent"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">$(<span class="string">'#dbcontent'</span>).load(<span class="string">'./movies/index.html .hexo-douban-item:nth-child(1)'</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>注意：本插件构建的页面完全不保证兼容IE等上古浏览器，推广使用现代浏览器，人人有责。</strong></p><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h3 id="第一步：安装"><a href="#第一步：安装" class="headerlink" title="第一步：安装"></a>第一步：安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果您使用过原插件请先卸载之</span></span><br><span class="line">$ npm uninstall --save hexo-douban</span><br><span class="line">$ npm install --save hexo-douban-list</span><br></pre></td></tr></table></figure><h3 id="第二步：配置"><a href="#第二步：配置" class="headerlink" title="第二步：配置"></a>第二步：配置</h3><p>将下面的配置写入站点的配置文件 <code>_config.yml</code> 里(不是主题的配置文件).</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">douban:</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">ID（数字或字幕|无需引号）</span></span><br><span class="line">  <span class="attr">builtin:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">movie:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">'生成页面的标题'</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">'生成页面的内容的导语'</span></span><br><span class="line">    <span class="attr">length:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">valine_id:</span> <span class="string">WbLE88qfAcz4hSI5</span></span><br><span class="line">    <span class="attr">valine_key:</span> <span class="string">ycqjmtEfUxuxD</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><p><strong>注意：以上内容中务必确定 USER ID 的正确性！</strong></p><ul><li><strong>user</strong>: 你的豆瓣ID.打开豆瓣，登入账户，然后在右上角点击 “个人主页” ，这时候地址栏的URL大概是这样：”<a href="https://www.douban.com/people/xxxxxx/&quot;" target="_blank" rel="external nofollow noopener noreferrer">https://www.douban.com/people/xxxxxx/&quot;</a> ，其中的”xxxxxx”就是你的个人ID了。</li><li><strong>builtin</strong>: 是否将生成页面的功能嵌入<code>hexo s</code>和<code>hexo g</code>中，默认嵌入（TRUE）即npm安装后无需任何操作按原命令部署博客即可生效。</li><li><strong>title</strong>: 该页面的标题。</li><li><strong>quote</strong>: 写在页面开头的一段话,支持html语法。</li><li><strong>length</strong>: 默认值为2，非页数，可以自由尝试（建议取值:2-4）。</li><li><strong>timeout</strong>: 爬取数据的超时时间，默认是 10000ms ,如果在使用时发现报了超时的错(ETIMEOUT)可以把这个数据设置的大一点。</li></ul><p>对于 <code>valine_id</code> 和 <code>valine_key</code>，主要针对的是<strong>Volantis</strong>主题（以及其他默认渲染评论区域的主题），如果您在测试时页面没有评论区域，则可以忽略这两项，如果出现以下显示则需要填写此两项。（这两项是什么？请移步<a href="https://valine.js.org/quickstart.html#%E8%8E%B7%E5%8F%96APP-ID-%E5%92%8C-APP-Key" target="_blank" rel="external nofollow noopener noreferrer">Valine官方介绍</a>）</p><p><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200922010453.png" alt></p><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p><strong>注意</strong>，通常大家都喜欢用<code>hexo d</code>来作为<code>hexo deploy</code>命令的简化，但是当安装了<code>hexo douban</code>之后，就不能用<code>hexo d</code>了，因为<code>hexo douban</code>跟<code>hexo deploy</code>的前缀都是<code>hexo d</code>。</p><h4 id="升级"><a href="#升级" class="headerlink" title="升级"></a>升级</h4><p>使用 <code>npm install hexo-douban-list --update --save</code> 直接更新。</p><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><p>执行 <code>hexo clean &amp;&amp; hexo generate &amp;&amp; hexo server</code>，之后访问 <code>localhost:4000/movies</code> 即可访问生成的影评页面。</p><h3 id="删除（可补回来）的内容"><a href="#删除（可补回来）的内容" class="headerlink" title="删除（可补回来）的内容"></a>删除（可补回来）的内容</h3><p>相比较于原项目，取消或删除了以下内容：</p><ul><li>去掉了书籍和音乐，单纯针对电影</li><li>去掉了影评页跳转的菜单按钮</li><li>去掉了以上项目涉及的配置开关</li></ul><h3 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h3><p>如果构建页面为空或404，且日志输出为 <code>INFO  0 movies have been loaded in xx ms</code>，这时怀疑您的IP由于多次请求豆瓣的页面而被豆瓣封禁了，一般第二天会解禁，使用代理或更改IP即可解决。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;不知道从什么时候开始，习惯于在豆瓣找电影看，到了后来，就偶尔写个电影观后感，随着看电影看的越来越多，可比较的东西就越来愈多，所以现在看完一部新电影，写写自己的感想就成了固定环节了，作为一种“动态”，能够搬到博客上与他人共享那是再好不过的了，找了一圈Hexo的插件，发现都不怎么好用，那么索性就魔改个自己用的版本！&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站组网" scheme="https://www.cxmoe.com/categories/%E5%BB%BA%E7%AB%99%E7%BB%84%E7%BD%91/"/>
    
    
      <category term="Node" scheme="https://www.cxmoe.com/tags/Node/"/>
    
      <category term="hexo-douban-list" scheme="https://www.cxmoe.com/tags/hexo-douban-list/"/>
    
  </entry>
  
  <entry>
    <title>滥用jsdelivr之存储视频/m3u8</title>
    <link href="https://www.cxmoe.com/article/9cb3.html"/>
    <id>https://www.cxmoe.com/article/9cb3.html</id>
    <published>2020-09-10T22:00:00.000Z</published>
    <updated>2021-03-08T21:01:06.000Z</updated>
    
    <content type="html"><![CDATA[<fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200912195745.png"></fancybox><p>对于博客来说，媒体资源的存取方式至关重要，借助Jsdelivr加速Github上存储的图片已经是公认的方案，但对于视频来说，面对动辄几百兆的视频资源，你几乎无法找到一个免费的“视频床”，在第三方直接防盗链能力日渐完善的当下，急切需要一种折中方案。本文就借鉴前辈的尝试，将视频存放在Github之上并利用Jsdelivr实现加速，并利用DPlayer将其插入到自己的博客中。</p><a id="more"></a><h3 id="核心问题"><a href="#核心问题" class="headerlink" title="核心问题"></a><strong>核心问题</strong></h3><ul><li>Github上传限制20M（网页）</li><li>Jsdelivr对加速资源的限制20M</li><li>Jsdelivr对MP4等视频格式的解码并不让人满意</li></ul><h3 id="Github网页上传限制"><a href="#Github网页上传限制" class="headerlink" title="Github网页上传限制"></a>Github网页上传限制</h3><p>老生常谈，网页不行就用Git工具，强烈推荐使用 Git Bash，<a href="https://git-scm.com/download" target="_blank" rel="external nofollow noopener noreferrer">Git下载地址</a>。</p><p>这里推荐重新新建一个仓库来存储视频，如果被认定滥用而封禁，也只会影响这一个仓库，所以还是新建一个仓库。</p><p>然后，在本地 git clone xxxx.git，下载到本地。</p><p>在将视频资源放进文件夹内，</p><p>在文件夹内新建 push.bat 写入如下代码，</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add -A</span><br><span class="line">git commit -m<span class="string">"%date:~0,4%%date:~5,2%%date:~8,2%%time:~0,2%%time:~3,2%%time:~6,2%"</span></span><br><span class="line">git push -u origin master -f</span><br></pre></td></tr></table></figure><p>双击bat即可强制推送本地全部内容到Github仓库。使用Git方式上传，可以摆脱20M上传大小的限制，不过即便上传成功，Jsdelivr仍然对加速的资源有所限制，要解决这个问题，就需要进入到本文的核心了，即视频分片。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200912194643.png"></fancybox><p>如果你觉得小于20M的mp4视频就可以被加速，那你就错了（涉及第三个问题），Jsdelivr对MP4的处理好像并不好，如<a href="https://github.com/TianZonglin/Ubuntu-Installog/blob/master/dd.mp4" target="_blank" rel="external nofollow noopener noreferrer">上图的视频</a>（视频正常）大小满足存储和加速条件，但通过jsdelivr链接访问后，居然只剩下音轨了。。（如果你在移动端打开，又可以解析到视频，奇怪！）</p><p><a href="https://cdn.jsdelivr.net/gh/TianZonglin/Ubuntu-Installog/dd.mp4" target="_blank" rel="external nofollow noopener noreferrer">https://cdn.jsdelivr.net/gh/TianZonglin/Ubuntu-Installog/dd.mp4</a></p><h3 id="视频切片"><a href="#视频切片" class="headerlink" title="视频切片"></a><strong>视频切片</strong></h3><p>首先，这不是简单的视频切分，这涉及到HLS技术，解释如下：</p><blockquote><p>HLS 的工作原理是把整个流分成一个个小的基于 HTTP 的文件来下载，每次只下载一些。当媒体流正在播放时，客户端可以选择从许多不同的备用源中以不同的速率下载同样的资源，允许流媒体会话适应不同的数据速率。在开始一个流媒体会话时，客户端会下载一个包含元数据的 extended M3U (m3u8) playlist文件，用于寻找可用的媒体流。HLS 只请求基本的 HTTP 报文，与实时传输协议（RTP）不同，HLS 可以穿过任何允许 HTTP 数据通过的防火墙或者代理服务器。它也很容易使用内容分发网络来传输媒体流。</p></blockquote><p>在我们的场景中，可以理解为视频的 url 就是 playlist 的链接地址，而 playlist 可以看做是视频分片的索引，如此大的视频被拆分，即绕过存储的单位件大小限制，同时也符合Jsdelivr对资源的要求，这样存储的视频，就可以“变相”的将Github做为视频床了。</p><p>如何实现？</p><h4 id="获取ffmpeg工具"><a href="#获取ffmpeg工具" class="headerlink" title="获取ffmpeg工具"></a><strong>获取ffmpeg工具</strong></h4><p>这里我用“获取”而不是“安装”，因为对于Windows来说，其已经被构建成可用的exe了，主要是几个exe，这里我们只使用 ffmpeg.exe，下载地址在<a href="https://ffmpeg.zeranoe.com/builds/" target="_blank" rel="external nofollow noopener noreferrer">这里</a>，下载Build压缩包之后，直接在压缩软件中查看bin目录下的内容，会发现有三个exe文件，只需要拖出 ffmpeg.exe 即可。</p><h4 id="文件放置和测试"><a href="#文件放置和测试" class="headerlink" title="文件放置和测试"></a><strong>文件放置和测试</strong></h4><p>在第一节中克隆的空白项目中，（以下文件名皆可自定义）新建个文件夹 MV-Queen，将原视频放进去，将 ffmpeg.exe 放进去，准备工作完成。</p><p>在此目录下，右键选择 Git_Bash_here（没有？请花亿分钟百度下然后重装下Git），然后将 ffmpeg.exe 直接拖入黑框中，回车，会显示ffmpeg的信息，如果你觉着这样麻烦也可以配置环境变量，这里不再赘述。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200912194958.png"></fancybox><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h4 id="执行切片"><a href="#执行切片" class="headerlink" title="执行切片"></a><strong>执行切片</strong></h4><p>第一步：mp4转成ts格式，一对一转换，转换后大小没什么变化。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -y -i 你的名字.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb 你的名字.ts</span><br></pre></td></tr></table></figure><p>第二步，按间隔分片，1对N，下面的5即“每个分片5秒”，可以自己切换。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i 你的名字.ts -c copy -map 0 -f segment -segment_list playlist.m3u8 -segment_time 5 你的名字%03d.ts</span><br></pre></td></tr></table></figure><p><strong>注意：</strong>这里如果直接输入ffmpeg是不能用的，我们首先拖动 ffmpeg.exe 到黑框中，这时会在 gitbash 中出现个路径，然后把上面的命令（ffmpeg后面的）复制到路径之后即可运行。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200912183411.png"></fancybox><p>关于MP4的参数，务必满足视频编码为H264，音视频编码为AAC（YouTube下载的视频默认即此格式），如果不是请用格式工厂进行转换，具体详见<a href="http://www.moetuan.cn/index.php/554.html#jsDelivr%E4%B8%8EGitHub%E9%83%BD%E6%98%8E%E7%99%BD%EF%BC%8C%E9%82%A3%E6%A0%87%E9%A2%98%E9%87%8C%E7%9A%84FFmpeg%E5%8F%88%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F" target="_blank" rel="external nofollow noopener noreferrer">王同学的文章</a>。</p><p><strong>最后一步：</strong></p><p>删掉或移除原视频和转换后的ts视频（两个最大的视频文件）以及 ffmpeg.exe，都移除去，剩下的就只有playlist和一大堆分片，之后点击之前的 push.bat 即可完成上传。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200912184040.png"></fancybox><h4 id="使用DPlayer解析"><a href="#使用DPlayer解析" class="headerlink" title="使用DPlayer解析"></a><strong>使用DPlayer解析</strong></h4><p>再次明确，这不是单纯的视频切分，如果你不信，可以尝试访问单独的视频分片（应该是乱码）：</p><p><a href="https://cdn.jsdelivr.net/gh/TianZonglin/bibabo/MV-5min-100m-Queen/abc001.ts" target="_blank" rel="external nofollow noopener noreferrer">https://cdn.jsdelivr.net/gh/TianZonglin/bibabo/MV-5min-100m-Queen/abc001.ts</a></p><p>当然，直接试图访问m3u8链接也是不行的，这里需要 hls.js 。</p><p><a href="https://cdn.jsdelivr.net/gh/TianZonglin/bibabo/MV-5min-100m-Queen/playlist.m3u8" target="_blank" rel="external nofollow noopener noreferrer">https://cdn.jsdelivr.net/gh/TianZonglin/bibabo/MV-5min-100m-Queen/playlist.m3u8</a></p><blockquote><p>hls.js 是一款基于 Media Source Extensions 开发的，用于实现 HTTP Live Streaming 开源JavaScript类库。它可以实现将MPEG-2 和 AAC/MP3码流变成自制的 MP4的分片。并且可以直接绑定在Video 上，实现播放。</p></blockquote><p>在这里，我们使用DPlayer，只需要在引入 DPlayer.js 之前，引入 hls.js 即可，即：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/gh/你的路径或CDN/DP.css"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"dplayer"</span> <span class="attr">class</span>=<span class="string">"dplayer-video dplayer dplayer-no-danmaku dplayer-paused"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/你的路径或CDN/jquery-3.5.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/你的路径或CDN/hls.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/你的路径或CDN/DP.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>别忘了构造代码（注意这里的type选择hls）：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">    <span class="keyword">const</span> dp = <span class="keyword">new</span> DPlayer(&#123;</span><br><span class="line">      container: <span class="built_in">document</span>.getElementById(<span class="string">'dplayer'</span>),</span><br><span class="line">      autoplay:!<span class="number">0</span>,<span class="attr">theme</span>:<span class="string">"#42b983"</span>,<span class="attr">loop</span>:<span class="literal">true</span>,<span class="attr">lang</span>:<span class="string">"zh-cn"</span>,<span class="attr">preload</span>:<span class="string">"auto"</span>,<span class="attr">volume</span>:<span class="built_in">Number</span>(<span class="string">"0"</span>),</span><br><span class="line">      video: &#123;</span><br><span class="line">          url: <span class="string">'https://cdn.jsdelivr.net/gh/你的m3u8链接/playlist.m3u8'</span>,</span><br><span class="line">          type: <span class="string">'hls'</span>,</span><br><span class="line">          defaultQuality: <span class="number">0</span>,</span><br><span class="line">          pic: <span class="string">'https://cdn.jsdelivr.net/gh/你的视频的初始未播放的画面（封面）.webp'</span>,</span><br><span class="line">          thumbnails: <span class="string">'thumbnails.jpg'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>针对自动播放问题，Chrome已经是禁止声音的自动播放了，也就是说，除非你静音，否则通常形式的video标签都无法在chrome中自动播放内容（iframe等除外），这里我的解决方式是，<strong>静音播放 + 按钮提醒</strong>，在视频下面加一行提示字符，然后利用dp的API做一下简单的控制（我把默认控制栏全部删掉了）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;span id=<span class="string">"btnV"</span> style=<span class="string">"color:#676767;font-size:16px;cursor:pointer;"</span>&gt;↑ 画面不动？没声音？点这里！&lt;<span class="regexp">/span&gt; </span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">  $("#btnV").click(function()&#123;</span></span><br><span class="line"><span class="regexp">     if($("#btnV").html()=="↑ 画面不动？没声音？点这里！"||$("#btnV").html()=="↑ 没声音？点这里！")&#123;</span></span><br><span class="line"><span class="regexp">      dp.play();</span></span><br><span class="line"><span class="regexp">      dp.volume(0.4);</span></span><br><span class="line"><span class="regexp">      $("#btnV").html("↑ 太吵了，关掉！");</span></span><br><span class="line"><span class="regexp">     &#125;else&#123;</span></span><br><span class="line"><span class="regexp">      dp.volume(0);</span></span><br><span class="line"><span class="regexp">      $("#btnV").html("↑ 没声音？点这里！");</span></span><br><span class="line"><span class="regexp">     &#125;</span></span><br><span class="line"><span class="regexp">  &#125;) </span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure><h4 id="修改Dplayer样式"><a href="#修改Dplayer样式" class="headerlink" title="修改Dplayer样式"></a><strong>修改Dplayer样式</strong></h4><p>为了极简化播放器，我将DPlayer的全部操作区间都给删掉了（display:none），这样就让视频区显得更加的纯粹，不告诉你你都不知道是视频，样式可以直接拷贝，代码如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.dplayer-controller</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dplayer-controller-mask</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dplayer-bezel</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dplayer-notice</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="最终效果（jsd加速）"><a href="#最终效果（jsd加速）" class="headerlink" title="最终效果（jsd加速）"></a><strong>最终效果（<a href="https://github.com/TianZonglin/bibabo/tree/master/MV-5min-100m-Queen" target="_blank" rel="external nofollow noopener noreferrer">jsd加速</a>）</strong></h4><p>视频画面右键统计信息-&gt;查看数据源！</p>  <style>    .l_mainxx {      padding: 8px !important;    }    .dplayer-video-wrap {      position: relative;      background: #000;      font-size: 0;      width: 100%;      height: 100%;    }    .dplayer * {        box-sizing: content-box;        border-radius: 5px;    }    .dplayer {        position: relative;        overflow: hidden;        -webkit-user-select: none;        -moz-user-select: none;        -ms-user-select: none;        user-select: none;        line-height: 1;    }    .dplayer-controller{      display: none !important;    }    .dplayer-controller-mask{      display: none !important;    }    .dplayer-bezel{      display: none !important;    }    .dplayer-notice{      display: none !important;    }  </style>  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/file/DP.css">  <div id="dplayer2" class="dplayer-video dplayer dplayer-no-danmaku dplayer-paused"></div><br>  <center><span id="btnV2" style="color:#676767;font-size:16px;cursor:pointer;">↑ 画面不动？没声音？点这里！</span> </center>  <script src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/file/jquery-3.5.min.js"></script>  <script src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/file/hls.min.js"></script>  <script src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/file/DP.js"></script>  <script>    $(function(){       const dp = new DPlayer({        container: document.getElementById('dplayer2'),        autoplay:!0,theme:"#42b983",loop:true,lang:"zh-cn",preload:"auto",volume:Number("0"),        video: {            url: 'https://cdn.jsdelivr.net/gh/TianZonglin/bibabo/MV-5min-100m-Queen/playlist.m3u8',            type: 'hls',            defaultQuality: 0,            pic: 'https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200912010715.webp',            thumbnails: 'thumbnails.jpg',        },    });    $("#btnV2").click(function(){       if($("#btnV2").html()=="↑ 没声音？点这里！"){        dp.play();        dp.volume(0.4);        $("#btnV2").html("↑ 太吵了，关掉！");       }else{        dp.volume(0);        $("#btnV2").html("↑ 没声音？点这里！");       }    })   })  </script>  ]]></content>
    
    <summary type="html">
    
      &lt;fancybox&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200912195745.png&quot;&gt;
&lt;/fancybox&gt;

&lt;p&gt;对于博客来说，媒体资源的存取方式至关重要，借助Jsdelivr加速Github上存储的图片已经是公认的方案，但对于视频来说，面对动辄几百兆的视频资源，你几乎无法找到一个免费的“视频床”，在第三方直接防盗链能力日渐完善的当下，急切需要一种折中方案。本文就借鉴前辈的尝试，将视频存放在Github之上并利用Jsdelivr实现加速，并利用DPlayer将其插入到自己的博客中。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站组网" scheme="https://www.cxmoe.com/categories/%E5%BB%BA%E7%AB%99%E7%BB%84%E7%BD%91/"/>
    
    
      <category term="HTML" scheme="https://www.cxmoe.com/tags/HTML/"/>
    
      <category term="Hexo" scheme="https://www.cxmoe.com/tags/Hexo/"/>
    
      <category term="DPlayer" scheme="https://www.cxmoe.com/tags/DPlayer/"/>
    
  </entry>
  
  <entry>
    <title>在群晖中优雅的使用百度网盘——baiduNetdisk+TinyManager</title>
    <link href="https://www.cxmoe.com/article/e7a6.html"/>
    <id>https://www.cxmoe.com/article/e7a6.html</id>
    <published>2020-08-27T22:00:00.000Z</published>
    <updated>2021-03-08T21:01:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>2020年8月，继PanDownload被搞死（我没在群晖上用过）之后，BaiduPCS-go/web也全面歇菜，最早期的版本作者也已放弃github维护，目前能在群晖Docker镜像中搜索到的镜像，搭建后几乎全部失效无法下载，于此状况下，难道在群晖上对于百度网盘真没有好的下载工具（非BT下载）了吗？不然！</p><a id="more"></a><h3 id="群晖-baiduNetdisk"><a href="#群晖-baiduNetdisk" class="headerlink" title="群晖-baiduNetdisk"></a><strong>群晖-baiduNetdisk</strong></h3><p>在2019年底悄悄有人开发了一款“神器”，于近期才不断完善，现在也才一百度star，基本原理就是用docker起一个Linux（推测）虚拟机，里面放个百度网盘客户端，然后配好VNC，最终通过Web访问VNC桌面，进而操作百度网盘客户端。搭配使用的 Synology-baiduNetdisk.spk 只是一个连接器，核心还是Docker的环境。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829121045.png"><br></fancybox></p><p>最终的界面效果如下：</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829010856.png"><br></fancybox></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a><strong>安装</strong></h3><p>所以，本质上该工具有两部分，一个是核心的Docker镜像，一个是spk链接器。关于Docker镜像直接在Docker中搜索 baiduNetdisk 即可找到安装（1G大小），而链接应用可以直接从Github上获取，<a href="https://github.com/john-shine/synology-baiduNetdisk-package/releases" target="_blank" rel="external nofollow noopener noreferrer">点击下载最新的spk文件</a>，手动安装群晖应用（不会？请百度吧）。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829010719.png"><br></fancybox></p><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a><strong>配置</strong></h3><p>只有Docker端需要配置，而且是很重要的配置，主要有以下几部分：</p><h4 id="配置下载根目录"><a href="#配置下载根目录" class="headerlink" title="配置下载根目录"></a><strong>配置下载根目录</strong></h4><p>这部分是百度网盘可操作的最上层目录，默认是在<strong>存储Docker的空间上</strong>新建一个<code>BDDOWNLOAD</code>目录，如果你的群晖有多个空间，且你不想将下载内容放在系统空间/Docker空间里，那就需要修改docker配置（设置-卷）。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829010443.png"><br></fancybox></p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829010609.png"><br></fancybox></p><p>同理，在端口设置中，默认使用的群晖主机端口是6900，如果要改也可以改。改完之后Docker就可以正常启动了，然后这时访问<code>群晖IP/域名:6900</code>即可进入VNC页面，打开网盘设置窗口，可以看到在下载位置选项中，已经直接将根目录映射到了之前设置的目录。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829011802.png"><br></fancybox></p><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h4 id="配置VNC登录密码"><a href="#配置VNC登录密码" class="headerlink" title="配置VNC登录密码"></a><strong>配置VNC登录密码</strong></h4><p>如果你正常完成上述步骤，那么你会发现你访问正确链接后直接就进入桌面了，没有访问拦截，没有登录验证，非常不安全，作者也想到了这个问题，可以通过手动方式设置一个登陆密码，缺点是非常简单，不是单点登录，即每次刷新或者多开页面都需要输入密码。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829013431.png"><br></fancybox></p><p>设置方法，在先前设置的下载根目录内新建<code>.vnc</code>文件夹，在里面创建一个<code>passwd.txt</code>文件（可在本地创建好后上传到该目录），里面写你的登录密码明文，完成后重启Docker即可出现访问控制。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829013753.png"><br></fancybox></p><h4 id="其他非必要配置"><a href="#其他非必要配置" class="headerlink" title="其他非必要配置"></a><strong>其他非必要配置</strong></h4><p>为了不过多的占用群晖主体性能和更好地发挥该docker镜像的性能，这里对docker再修改几处配置，包括<code>CPU优先顺序</code>和<code>内存限制</code>（4G足矣再多就不正常了），再勾选上自动重启，以便异常挂掉后可以自动恢复。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829015257.png"><br></fancybox></p><h4 id="资源占用和性能"><a href="#资源占用和性能" class="headerlink" title="资源占用和性能"></a><strong>资源占用和性能</strong></h4><p>总体上占用资源不低，尤其是内存，如果你的群晖内存不是很大，那就更得主动限制一下其使用内存的大小。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829013551.png"><br></fancybox></p><p>对于性能（下载速度），我还是比较满意的，虽然不能跑满带宽，但和桌面的网盘客户端相比也差不多了，峰值速度可观，但其实不会一直维持峰值，九成时间稳定在5-6m/s，也算很不错的表现了。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829020929.png"><br></fancybox></p><p>不足的一点是，由于本质上是一个VNC桌面，所以对屏幕基本没有适配，在移动端上使用比较头大，主要是按钮太小，容易误触。</p><p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829014953.png"><br></fancybox></p><h3 id="Tiny-File-Manager"><a href="#Tiny-File-Manager" class="headerlink" title="Tiny File Manager"></a><strong>Tiny File Manager</strong></h3><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a><strong>安装</strong></h4><p>详见文章<a href="https://www.cxmoe.com/article/b940.html">《极简版（群晖）网盘文件管理工具——TinyManager》</a></p><h4 id="和本文的工具搭配使用"><a href="#和本文的工具搭配使用" class="headerlink" title="和本文的工具搭配使用"></a><strong>和本文的工具搭配使用</strong></h4><p>在 Tiny File Manager 使用的过程中需要设置一个根目录文件夹，即管理该目录下的所有文件，这里的管理目录，同样可以是百度网盘的下载目录，如此，我们可以将百度网盘的资源直接下载到 TinyManager 的管理目录内，从而下载完成后随即在 Manager 可见。</p><p>这样的好处有三个：</p><ul><li><ol><li><strong>Tiny Manager 足够轻量。</strong>该文件管理工具基于PHP，整体就一个两千行的PHP文件实现，足够的轻量不吃任何资源，同样可完成视频解析等功能。</li></ol></li><li><ol start="2"><li><strong>方便转存再下载。</strong>在帮别人（没速度或网速慢）下载百度网盘资源时，可以利用自己的网盘客户端和大带宽将资源转下到群晖内，然后再通过 Manager 直接分享直链供他人下载即可。</li></ol></li><li><ol start="3"><li><strong>直接解析视频音频。</strong>如果下的是百度网盘的视频资源，下载完成后即可在 Manager 目录内看到，点击预览即可播放，速度喜人，非常方便。</li></ol></li></ul><br><blockquote><p>访问 <a href="https://www.cxmoe.com">cz5h.com</a> 获取更多精彩内容。</p></blockquote><br><h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a><strong>后记</strong></h3><p>总体上，这就是相当于在docker运行了一个百度网盘客户端（推测是基于Linux的），所以，没有封号的风险，也不会存在各种交互问题，是具有原生百度网盘体验感的方式，在众多第三方工具都失效的当下，或许这种方式反而不失为一种好方案。</p><h3 id="附件"><a href="#附件" class="headerlink" title="附件"></a><strong>附件</strong></h3><p>由于很多人说目前群晖内下载的镜像和我文中的不太一样，推测可能是更新过了？所以各种问题，为了解决之，我把我使用的镜像（可用版）导出了，各位可以下载之后，通过docker导入（应该是这样做）。</p><p>下载链接：<a href="https://pan.baidu.com/s/1a-Izt5jmTAFWBsAXLceeXA" target="_blank" rel="external nofollow noopener noreferrer">https://pan.baidu.com/s/1a-Izt5jmTAFWBsAXLceeXA</a><br>提取码：5hq0 </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;2020年8月，继PanDownload被搞死（我没在群晖上用过）之后，BaiduPCS-go/web也全面歇菜，最早期的版本作者也已放弃github维护，目前能在群晖Docker镜像中搜索到的镜像，搭建后几乎全部失效无法下载，于此状况下，难道在群晖上对于百度网盘真没有好的下载工具（非BT下载）了吗？不然！&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站组网" scheme="https://www.cxmoe.com/categories/%E5%BB%BA%E7%AB%99%E7%BB%84%E7%BD%91/"/>
    
    
      <category term="群晖" scheme="https://www.cxmoe.com/tags/%E7%BE%A4%E6%99%96/"/>
    
      <category term="百度网盘" scheme="https://www.cxmoe.com/tags/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98/"/>
    
  </entry>
  
  <entry>
    <title>极简WEB文件管理工具（群晖）——TinyManager</title>
    <link href="https://www.cxmoe.com/article/b940.html"/>
    <id>https://www.cxmoe.com/article/b940.html</id>
    <published>2020-08-21T22:00:00.000Z</published>
    <updated>2021-03-08T21:01:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>在之前<a href="https://www.cxmoe.com/article/f2f2.html">《导出七牛云资源到本地》</a>的文章中，我已经将文件全部转存到了群晖中，搭配Nginx已经可以实现直链访问。前几天又把自己电脑上存在的有用的软件包全部上传到了群晖，至此我的软件包文件夹已经有三四百个文件/安装包，除了直链访问，我迫切的需要一款简洁轻量的Web文件管理工具来方便管理这些文件，最终借助 <strong>Tiny FileManager</strong>，简洁高效的实现了我的需求。</p><a id="more"></a><h3 id="安装TinyManager"><a href="#安装TinyManager" class="headerlink" title="安装TinyManager"></a><strong>安装TinyManager</strong></h3><p>该项目已在Github开源，<a href="https://tinyfilemanager.github.io/" target="_blank" rel="external nofollow noopener noreferrer">主页地址</a>。安装非常的简单，直接<a href>下载最新版Zip包</a>，完成后解压，将整体目录改个名字比如“pan”，然后放入需要管理的文件的上一级，然后使用 WebStation 在该目录起一个Nginx容器+php环境，做完之后即可通过路径访问了。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829141132.png"></fancybox><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829141550.png"></fancybox><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a><strong>配置</strong></h3><p>经过上述安装，不需要配置即可通过 <code>domain:6543/pan/index.php</code> 访问（index可不写，6543需要路由器配置映射）登陆页面。初始的登陆密码是 <code>admin/admin@123</code> 和 <code>user/12345</code> 对应两个级别的用户。</p><h4 id="1-配置密码"><a href="#1-配置密码" class="headerlink" title="1. 配置密码"></a><strong>1. 配置密码</strong></h4><p>直接在群晖打开 <code>index.php</code> 进行编辑（config.php 中的也要对应修改），在27行，找到以下代码：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$auth_users = <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'admin'</span> =&gt; <span class="string">'$c9a9qa2v9W18YaYkqI5cEG/ufAviA912PDly1JWwLPgh6324231hqFG'</span>, <span class="comment">//admin@123</span></span><br><span class="line">    <span class="string">'user'</span> =&gt; <span class="string">'$2dasidqwioev9W18YaYkqI5cEG/uf14y1JWwLPgh6pMzzJ42412hqFG'</span> <span class="comment">//12345</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>去到<a href="https://tinyfilemanager.github.io/docs/pwd.html" target="_blank" rel="external nofollow noopener noreferrer">该页面</a>，生成你想设置密码的加密字符串，然后回来将其替换到对应位置（箭头右边部分）即可完成密码修改。</p><h4 id="2-修改语言"><a href="#2-修改语言" class="headerlink" title="2. 修改语言"></a><strong>2. 修改语言</strong></h4><p>登陆文件管理Web页面，一定要用admin登陆，右上角下拉点击设置进入该页面选择语言，以及其他设置。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829142833.png"></fancybox><h4 id="3-配置管理根目录"><a href="#3-配置管理根目录" class="headerlink" title="3. 配置管理根目录"></a><strong>3. 配置管理根目录</strong></h4><p>在 <code>config.php</code> 中找到以下代码，<code>/tools</code> 即表示 Manager 初始进入的目录只有 tools，剩下的其他目录不可见。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Line 53</span></span><br><span class="line"><span class="comment">// use absolute path of directory i.e: '/var/www/folder' or $_SERVER['DOCUMENT_ROOT'].'/folder'</span></span><br><span class="line">$root_path = $_SERVER[<span class="string">'DOCUMENT_ROOT'</span>].<span class="string">'/tools'</span>;</span><br></pre></td></tr></table></figure><h4 id="4-修改文件夹权限"><a href="#4-修改文件夹权限" class="headerlink" title="4. 修改文件夹权限"></a><strong>4. 修改文件夹权限</strong></h4><p>此步骤很有必要，如果不改，默认的管理操作会无效，因为php文件没有相应的权限。需要在群晖的文件管理器中直接对 Manager 的工具文件夹进行权限修改（勾选上以下页面的“应用到子文件”，截图没截全）：</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829150236.png"></fancybox><p>修改完之后，Web管理页面上的编辑、删除、重命名即可正常使用。</p><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h3 id="修改源码加以完善"><a href="#修改源码加以完善" class="headerlink" title="修改源码加以完善"></a><strong>修改源码加以完善</strong></h3><p>由于主体就一个php文件，所以比较容易修改，原页面主要的问题有以下几个：</p><ul><li>文件类型对应的图标太丑</li><li>文件操作区的按钮重复</li><li>修改根目录后文件直链出错</li><li>最底部的操作区没实际意义</li></ul><h4 id="1-修改文件类型对应的图标"><a href="#1-修改文件类型对应的图标" class="headerlink" title="1. 修改文件类型对应的图标"></a><strong>1. 修改文件类型对应的图标</strong></h4><p>这里首先引入最新版本的 font-awsome 图标，在index中的适当位置加入（以下代码需要在官网注册后才能得到）：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://kit.fontawesome.com/xxxxxx.js"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后在 2612 行找到 <code>function fm_get_file_icon_class($path)</code> 函数，全部类型对应的图标均在此修改即可。</p><h4 id="2-删除没用的部分"><a href="#2-删除没用的部分" class="headerlink" title="2. 删除没用的部分"></a><strong>2. 删除没用的部分</strong></h4><p>对我来说，文件的下载和直链，两部分完全相同，所以操作区的下载按钮直接删掉（复制其实也没用）。还有页面最底部的操作区也没用，直接删掉，对应到源码主要是以下几部分，直接注释掉即可：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Line 1947 - 删除对文件夹的复制</span><br><span class="line"><span class="comment">&lt;!--&lt;a title="&lt;?php echo lng('CopyTo')?&gt;..." href="?p=&amp;amp;copy=&lt;?php echo urlencode(trim(FM_PATH . '/' . $f, '/')) ?&gt;"&gt;&lt;i class="fa fa-files-o" aria-hidden="true"&gt;&lt;/i&gt;&lt;/a&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">Line 1949 - 删除对文件夹的直链</span><br><span class="line"><span class="comment">&lt;!--&lt;a title="&lt;?php echo lng('DirectLink')?&gt;" href="&lt;?php echo fm_enc(FM_ROOT_URL . '/' . (FM_PATH != '' ? '/' . FM_PATH : '') . '/' . $f) ?&gt;" target="_blank"&gt;&lt;i class="fa fa-link" aria-hidden="true"&gt;&lt;/i&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line">Line 2011 - 删除对文件的复制</span><br><span class="line"><span class="comment">&lt;!--&lt;a title="&lt;?php echo lng('CopyTo') ?&gt;..."</span></span><br><span class="line"><span class="comment">    href="?p=&lt;?php echo urlencode(FM_PATH) ?&gt;&amp;amp;copy=&lt;?php echo urlencode(trim(FM_PATH . '/' . $f, '/')) ?&gt;"&gt;&lt;i class="fa fa-files-o"&gt;&lt;/i&gt;&lt;/a&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">Line 2015 - 删除对文件的下载</span><br><span class="line"><span class="comment">&lt;!--&lt;a title="&lt;?php echo lng('Download') ?&gt;" href="?p=&lt;?php echo urlencode(FM_PATH) ?&gt;&amp;amp;dl=&lt;?php echo urlencode($f) ?&gt;"&gt;&lt;i class="fa fa-download"&gt;&lt;/i&gt;&lt;/a&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">Line 2054 - 删除页面底部的操作区（注意注释位置）</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-12 col-sm-9"</span>&gt;</span><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    &lt;ul class="list-inline footer-action"&gt;</span></span><br><span class="line"><span class="comment">        &lt;li class="list-inline-item"&gt; &lt;a href="#/select-all" class="btn btn-small btn-outline-primary btn-2" onclick="select_all();return false;"&gt;&lt;i class="fa fa-check-square"&gt;&lt;/i&gt; &lt;?php echo lng('SelectAll') ?&gt; &lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li class="list-inline-item"&gt;&lt;a href="#/unselect-all" class="btn btn-small btn-outline-primary btn-2" onclick="unselect_all();return false;"&gt;&lt;i class="fa fa-window-close"&gt;&lt;/i&gt; &lt;?php echo lng('UnSelectAll') ?&gt; &lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li class="list-inline-item"&gt;&lt;a href="#/invert-all" class="btn btn-small btn-outline-primary btn-2" onclick="invert_all();return false;"&gt;&lt;i class="fa fa-th-list"&gt;&lt;/i&gt; &lt;?php echo lng('InvertSelection') ?&gt; &lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li class="list-inline-item"&gt;&lt;input type="submit" class="hidden" name="delete" id="a-delete" value="Delete" onclick="return confirm('Delete selected files and folders?')"&gt;</span></span><br><span class="line"><span class="comment">            &lt;a href="javascript:document.getElementById('a-delete').click();" class="btn btn-small btn-outline-primary btn-2"&gt;&lt;i class="fa fa-trash"&gt;&lt;/i&gt; &lt;?php echo lng('Delete') ?&gt; &lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li class="list-inline-item"&gt;&lt;input type="submit" class="hidden" name="zip" id="a-zip" value="zip" onclick="return confirm('Create archive?')"&gt;</span></span><br><span class="line"><span class="comment">            &lt;a href="javascript:document.getElementById('a-zip').click();" class="btn btn-small btn-outline-primary btn-2"&gt;&lt;i class="fa fa-file-archive-o"&gt;&lt;/i&gt; &lt;?php echo lng('Zip') ?&gt; &lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li class="list-inline-item"&gt;&lt;input type="submit" class="hidden" name="tar" id="a-tar" value="tar" onclick="return confirm('Create archive?')"&gt;</span></span><br><span class="line"><span class="comment">            &lt;a href="javascript:document.getElementById('a-tar').click();" class="btn btn-small btn-outline-primary btn-2"&gt;&lt;i class="fa fa-file-archive-o"&gt;&lt;/i&gt; &lt;?php echo lng('Tar') ?&gt; &lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">        &lt;li class="list-inline-item"&gt;&lt;input type="submit" class="hidden" name="copy" id="a-copy" value="Copy"&gt;</span></span><br><span class="line"><span class="comment">            &lt;a href="javascript:document.getElementById('a-copy').click();" class="btn btn-small btn-outline-primary btn-2"&gt;&lt;i class="fa fa-files-o"&gt;&lt;/i&gt; &lt;?php echo lng('Copy') ?&gt; &lt;/a&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="comment">    &lt;/ul&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-修复链接问题"><a href="#3-修复链接问题" class="headerlink" title="3. 修复链接问题"></a><strong>3. 修复链接问题</strong></h4><p>在 <code>FM_ROOT_URL</code> 后面，将 <code>/</code> 改为 <code>/tools</code>（设置的根目录）即可。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Line 2014 </span></span><br><span class="line">&lt;a title=<span class="string">"&lt;?php echo lng('DirectLink') ?&gt;"</span> </span><br><span class="line">   href=<span class="string">"&lt;?php echo fm_enc(FM_ROOT_URL . '/tools' . (FM_PATH != '' ? '/' . FM_PATH : '') . '/' . $f) ?&gt;"</span> </span><br><span class="line">   target=<span class="string">"_blank"</span>&gt;</span><br><span class="line">  &lt;i class="fa fa-link"&gt;&lt;/i&gt;</span><br><span class="line">&lt;/a&gt;</span><br></pre></td></tr></table></figure><p>将 <code>fm_enc($file_url)</code>改为 <code>str_replace(&quot;6543&quot;,&quot;6543/tools&quot;,fm_enc($file_url))</code>（把根目录加上）即可。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Line 1592</span></span><br><span class="line">&lt;b&gt;&lt;a href="&lt;?php echo str_replace("6543","6543/tools",fm_enc($file_url)) ?&gt;" target="_blank"&gt;&lt;i class="fa fa-external-link-square"&gt;&lt;/i&gt; &lt;?php echo lng('Open') ?&gt;&lt;/a&gt;&lt;/b&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Line 1647</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;div class="preview-video"&gt;&lt;video src="'</span> .  str_replace(<span class="string">"6543"</span>,<span class="string">"6543/tools"</span>,fm_enc($file_url)) . <span class="string">'" width="640" height="360" controls preload="metadata"&gt;&lt;/video&gt;&lt;/div&gt;'</span>;</span><br></pre></td></tr></table></figure><br><blockquote><p>访问 <a href="https://www.cxmoe.com">cz5h.com</a> 获取更多精彩内容。</p></blockquote><br><h4 id="4-最终的精简效果"><a href="#4-最终的精简效果" class="headerlink" title="4. 最终的精简效果"></a><strong>4. 最终的精简效果</strong></h4><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200829144337.png"></fancybox>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在之前&lt;a href=&quot;https://www.cxmoe.com/article/f2f2.html&quot;&gt;《导出七牛云资源到本地》&lt;/a&gt;的文章中，我已经将文件全部转存到了群晖中，搭配Nginx已经可以实现直链访问。前几天又把自己电脑上存在的有用的软件包全部上传到了群晖，至此我的软件包文件夹已经有三四百个文件/安装包，除了直链访问，我迫切的需要一款简洁轻量的Web文件管理工具来方便管理这些文件，最终借助 &lt;strong&gt;Tiny FileManager&lt;/strong&gt;，简洁高效的实现了我的需求。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站组网" scheme="https://www.cxmoe.com/categories/%E5%BB%BA%E7%AB%99%E7%BB%84%E7%BD%91/"/>
    
    
      <category term="群晖" scheme="https://www.cxmoe.com/tags/%E7%BE%A4%E6%99%96/"/>
    
      <category term="文件管理" scheme="https://www.cxmoe.com/tags/%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/"/>
    
      <category term="PHP" scheme="https://www.cxmoe.com/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>群晖硬盘过热导致的关机保护</title>
    <link href="https://www.cxmoe.com/article/fed3.html"/>
    <id>https://www.cxmoe.com/article/fed3.html</id>
    <published>2020-08-08T22:00:00.000Z</published>
    <updated>2021-03-08T21:01:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>从七月末开始，我的NAS就突然不能正常开机了，今天尝试排查了一下错误，结果能够正常启动且正常运行，但正常运行两个小时之后，群晖就又宕机无法开机了，如此反复气死我了，最后简单搞了一下暂时可用了，但依旧没有找到病根。</p><a id="more"></a><h4 id="检查硬件"><a href="#检查硬件" class="headerlink" title="检查硬件"></a><strong>检查硬件</strong></h4><ul><li>拆卸下来 - 有内存无硬盘状态开机 - 检查是否系统有问题</li><li>拆卸内存 - 擦拭插槽和插片，插回去后开机 - 检查内存是否有问题</li><li>装回硬盘 - 开机，看是否正常登入 - 检查硬盘是否有问题</li></ul><p>以上是通用的步骤，对于具体的出错位置和原因，可以在我们重新登录群晖之后，通过查看日志中心来发现！</p><p>我的故障机器通过拔插硬盘和内存，获得了短暂的复活时间，其实当时我以为是修复了，就在我截图准备写此文时，它居然又挂了，虽然这次我知道是什么问题了，但还是很懵，基本上在靠 UptimeRobot 的监控邮件在<strong>确认</strong>群晖的死亡，为了更加及时、清晰的知道群晖的宕机时间和原因，我推荐大家把群晖异常的邮件推送给配置上。</p><p>配置邮件通知非常简单，在控制面板的通知设置里，把信息填上即可，做完后记得发测试邮件试一试。注意：这里的密码不是QQ账号密码，而是要去QQ邮箱的设置中获取的 <strong>16位授权码</strong>！</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200822130713.png"></fancybox><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h4 id="定位日志"><a href="#定位日志" class="headerlink" title="定位日志"></a><strong>定位日志</strong></h4><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200806191300.png"></fancybox><p>在通过硬件插拔后，我顺利进入了系统，然后通过查看<strong>日志</strong>这个APP，可以发现很明显的、触发关机的异常，这里是<strong>硬盘温度超过保护温度</strong>而触发关机保护。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200806191641.png"></fancybox><p>可以看到日志说是<strong>drive4</strong>的问题，在<strong>磁盘管理</strong>这个APP中，我们可以找到那块磁盘，不幸的是这块磁盘是我RAID阵列中的一块，可以看到截图时的温度还是很正常的，就在截图后的半小时内，它就又宕机了，如果还是硬盘温度超限，那我就很不解了，因为在此期间我并没有访问什么服务，也就开启了Web端的DSM桌面。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200822130842.png"></fancybox><p>再仔细看日志的日期，或者直接看状态监控，可以发现最早的异常出现在7月22号（准确的说是7.21的23:58），要知道之前的时间跨度内我的群晖是百分百可用的，如果是<strong>硬盘老化</strong>，照理不会“坏”的这么突然。</p><h4 id="可能的推测"><a href="#可能的推测" class="headerlink" title="可能的推测"></a><strong>可能的推测</strong></h4><p>在上个月的那段时间我并不记得自己有任何对其的异常操作，所有操作均在七月22号之前很久就做了，我推测这次的硬盘升温并不是由于我的误操作引起的，可能还需要进一步找错误，硬盘4和另一块2T盘是同一时间同时从厂家买的，批号都很相似，讲道理不会有一块突然坏掉吧。。</p><p>如果真的是天气热导致的散热问题而引发的，那估计问题不大，天气不热了就没事了，不过还需要进一步观察。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;从七月末开始，我的NAS就突然不能正常开机了，今天尝试排查了一下错误，结果能够正常启动且正常运行，但正常运行两个小时之后，群晖就又宕机无法开机了，如此反复气死我了，最后简单搞了一下暂时可用了，但依旧没有找到病根。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站组网" scheme="https://www.cxmoe.com/categories/%E5%BB%BA%E7%AB%99%E7%BB%84%E7%BD%91/"/>
    
    
      <category term="群晖" scheme="https://www.cxmoe.com/tags/%E7%BE%A4%E6%99%96/"/>
    
      <category term="异常" scheme="https://www.cxmoe.com/tags/%E5%BC%82%E5%B8%B8/"/>
    
      <category term="维护" scheme="https://www.cxmoe.com/tags/%E7%BB%B4%E6%8A%A4/"/>
    
  </entry>
  
  <entry>
    <title>快速建站“新玩具”—glitch.me</title>
    <link href="https://www.cxmoe.com/article/6868.html"/>
    <id>https://www.cxmoe.com/article/6868.html</id>
    <published>2020-08-05T22:00:00.000Z</published>
    <updated>2021-03-08T21:01:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>今天在 YouTube 看了一个谷歌的开发视频，里面主讲者用 Glitch.me 做了代码的演示平台，所以自然地通过视频下方的演示链接，接触到了 Glitch，初步使用过后，我觉得这和 now.sh 等功能差不多，专为Web静态页面提供快速发布服务。目前我看百度里对其介绍的文章基本没有，那我就来介绍一下它吧！</p><a id="more"></a><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200806194610.png"></fancybox><p>部分内容翻译自官方的说明，可不是我瞎编的！</p><h3 id="Glitch到能干啥？"><a href="#Glitch到能干啥？" class="headerlink" title="Glitch到能干啥？"></a><strong>Glitch到能干啥？</strong></h3><h4 id="创建Web应用的工具"><a href="#创建Web应用的工具" class="headerlink" title="创建Web应用的工具"></a><strong>创建Web应用的工具</strong></h4><ul><li><p>其可以让所有人都能够使用此“开发工具”，因此其足够简单、易用。完善的代码补全提醒、健全的团队管理功能是其基本功能。除此之外，Glitch其实是一个协作式编程环境，只需要使用浏览器的开发页面，就可以构建从静态网页到结合全栈Node框架的所有应用。</p></li><li><p>第二个令我惊讶的特性是“多人协作开发”的功能，Glitch在这里真正做到了实时多人在线开发，这个功能还是很吸引人的。</p></li><li><p>第三点则是应用的“即时上线”功能，这里要吐槽下国内的Coding，使用静态部署一小时只有十次配额，对于Glitch，这将是无限的、实时的、无需我们干预的过程，Glitch本质上没有部署或发布的概念，修改后即生效。</p></li><li><p>第四点黑科技则是“和已有IDE的无缝结合”，例如可以在VSCode中使用插件来将Glitch的web开发页面搬到VSCode中，其余操作完全无影响。再比如结合Github，直接导入已有的代码进行构建。</p></li></ul><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h4 id="友好、创造性的社区"><a href="#友好、创造性的社区" class="headerlink" title="友好、创造性的社区"></a><strong>友好、创造性的社区</strong></h4><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200806223446.png"></fancybox><p>Glitch已经包含了非常多的有趣的项目，包含了各种分类的各种内容，以游戏为例，其允许我们直接看到、使用到游戏渲染后的内容，这也算是Glitch的黑科技吧，如果你对某个项目感兴趣，那么将其内化并加以完善在Glitch上也是非常容易就能实现的！</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200806223620.png"></fancybox><h3 id="Glitch怎么用？"><a href="#Glitch怎么用？" class="headerlink" title="Glitch怎么用？"></a><strong>Glitch怎么用？</strong></h3><p>详细讲解其用法是不现实的，这里就两个关键功能来对Glitch做个简单的讲解。</p><h4 id="快速发布静态页"><a href="#快速发布静态页" class="headerlink" title="快速发布静态页"></a><strong>快速发布静态页</strong></h4><p>有多快速呢？基本上就是“新建项目-&gt;编辑index.html-&gt;获得页面链接”就结束了。具体登陆时可以直接用Github登陆，其不会再有附加账号的要求。新建项目后会发现有个双栏的开发页面，所有工作都可以在这个页面完成，而且重点是左侧部分，功能基本都在这块。</p><p>以 <a href="https://github.com/iamcn/iamchinese" target="_blank" rel="external nofollow noopener noreferrer">iamchinese</a> 项目为例，修改完index.html后，随即打开左侧头像旁边的<code>Share</code>下拉框，选择<code>LiveAPP</code>，即可复制当前的页面链接，即：<a href="https://iamchinese.glitch.me" target="_blank" rel="external nofollow noopener noreferrer">https://iamchinese.glitch.me</a>，如果对默认名称不满意，可以直接修改一个可用的名称（即修改最左上角的项目名称）。</p><h4 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a><strong>绑定域名</strong></h4><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200806233316.png"></fancybox><p>左下角，点击 Tools -&gt; Custom Domains，输入你的域名，即可以获得进一步的绑定信息。你会发现以下内容，至此应该有域名的朋友就知道怎么做了。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">At your domain registrar </span><br><span class="line">you&#39;ll need to create a CNAME record </span><br><span class="line">for ihave.diedin.icu pointing to </span><br><span class="line">peyk2z9el29xvm93.preview.edgeapp.net</span><br></pre></td></tr></table></figure><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200806233419.png"></fancybox><p>需要注意的是，Glitch已说明如果你想直接访问<code>preview.edgeapp.net</code>这个链接，那么你只会得到<code>Not Found</code>。其只能在CNAME下生效。这里我用Dnspod，只需要添加一个CNAME即可。解析后即可访问 <a href="http://ihave.diedin.icu" target="_blank" rel="external nofollow noopener noreferrer">ihave.diedin.icu</a>。</p><p>至此，其主要功能“快速发布静态页面”就基本介绍完毕，各种扩展、功能大家可以自己去慢慢探索。</p><p><strong>不过据不可靠消息称，Glitch在国内无法访问，未验证。</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天在 YouTube 看了一个谷歌的开发视频，里面主讲者用 Glitch.me 做了代码的演示平台，所以自然地通过视频下方的演示链接，接触到了 Glitch，初步使用过后，我觉得这和 now.sh 等功能差不多，专为Web静态页面提供快速发布服务。目前我看百度里对其介绍的文章基本没有，那我就来介绍一下它吧！&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站组网" scheme="https://www.cxmoe.com/categories/%E5%BB%BA%E7%AB%99%E7%BB%84%E7%BD%91/"/>
    
    
      <category term="教程" scheme="https://www.cxmoe.com/tags/%E6%95%99%E7%A8%8B/"/>
    
      <category term="Glitch" scheme="https://www.cxmoe.com/tags/Glitch/"/>
    
  </entry>
  
  <entry>
    <title>修改自定义站点监控页面的样式</title>
    <link href="https://www.cxmoe.com/article/cf94.html"/>
    <id>https://www.cxmoe.com/article/cf94.html</id>
    <published>2020-07-24T22:00:00.000Z</published>
    <updated>2022-01-14T03:18:42.756Z</updated>
    
    <content type="html"><![CDATA[<fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200726001149.png"></fancybox><p>许久之前就开始使用 UptimeRobot 来监控站点的状态了，不过一直是使用默认的方式，即绑定域名后使用官方的默认模板，使用体验还算可以，但令人不爽的是只有最近一周的运行状态，而且感觉状态刷新频率也不高，时值近日 NAS 极不稳定（现在还没弄好），我非常想看看是有多不稳定，但官方的监控页面信息实在不足，因此换用基于官方API的自定义监控页面。</p><a id="more"></a><h3 id="官方默认模板"><a href="#官方默认模板" class="headerlink" title="官方默认模板"></a><strong>官方默认模板</strong></h3><p><strong>示例页面：</strong><a href="/monitor.html">绑定的二级域名</a></p><p><strong>不足之处：</strong></p><ul><li>只有七天状态信息可见</li><li>刷新频率未知（迟滞）</li><li>必须绑定域名，也就意味着无法作为网站内页（之前用iframe硬加进来的，其实监控页面是<a href="https://up.cz5h.com/" target="_blank" rel="external nofollow noopener noreferrer">up.cz5h.com</a>）</li><li>无法自由更改页面内容</li></ul><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200726012510.png"></fancybox><h3 id="自定义模板（原版）"><a href="#自定义模板（原版）" class="headerlink" title="自定义模板（原版）"></a><strong>自定义模板（原版）</strong></h3><p><strong>示例页面：</strong><a href="https://status.org.cn/" target="_blank" rel="external nofollow noopener noreferrer">原项目DEMO页</a></p><p>利用 UptimeRobot 的API开发的监控页面，很好的解决了上述不足：</p><ul><li>其实现方式意味着我们可以随心所欲的安排监控页面出现的位置，网站内页或者嵌入到某页面都是可以实现的；</li><li>其API允许查看90天（据说）的状态信息，简直不要太开心；</li><li>实现方便，只需引入几个文件夹即可；</li></ul><p><strong>搭建步骤：</strong></p><ol><li>申请 UptimeRobot 账号，配置自己的站点并监控，其网站做的很人性化，步骤不再赘述，至此我们在其网站上就可以查看服务/站点的状态了；</li><li>下载自定义模板的代码，<a href="https://github.com/yb/uptime-status/releases" target="_blank" rel="external nofollow noopener noreferrer">Github地址</a>，并将其解压到Hexo文件夹内，具体可以放在 theme -&gt; yourTheme -&gt; source -&gt; folderName文件夹内；</li><li>在 UptimeRobot 官网，通过 MySettings - API Settings -&gt; Monitor-Specific API Keys -&gt; Show/hide 中的搜索框，找到你已创建的监控站点，点击生成 API kEY 并复制;</li><li>将 Key 复制到 config.js 中的对应位置，每个监控任务对应一个 Key，比如你监控了十个站点/服务，那需要十个 Key；</li><li>部署 Hexo，此时访问 yourSite/folderName（例如我的[cz5h.com/up}(<a href="https://www.cxmoe.com/up)），就可以看到监控信息了。">https://www.cxmoe.com/up)），就可以看到监控信息了。</a></li></ol><p><strong>不足之处：</strong></p><p>样式太丑了，和我博客的风格很不搭，别的都很好，致敬作者。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200726002402.png"></fancybox><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h3 id="简单修改后样式"><a href="#简单修改后样式" class="headerlink" title="简单修改后样式"></a><strong>简单修改后样式</strong></h3><p><strong>示例页面：</strong><a href="https://www.cxmoe.com/up">本站内页</a></p><p>修改过程非常简单，直接将以下CSS代码写入 index.html 中即可。注意几点：</p><ul><li>原页面有 footer 信息，这里直接用JS隐藏掉，之后你可以再覆写 footer，这样即使不修改源码也可以快速得到相要的样式；</li><li>样式名称还是很规范的，利用F12检查元素可以很快就完成修改；</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">script</span>&gt;</span><br><span class="line">    document.getElementById('footer').style.display = 'none';// 隐藏选择的元素</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#010012</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#<span class="number">010012</span>, #<span class="number">111</span>f4c, #<span class="number">010012</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.navi</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uptime</span> <span class="selector-class">.timeline</span> <span class="selector-tag">i</span><span class="selector-class">.ok</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#2195f3bb</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uptime</span> <span class="selector-class">.timeline</span> <span class="selector-tag">i</span><span class="selector-class">.down</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#f34539bb</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uptime</span> <span class="selector-class">.timeline</span> <span class="selector-tag">i</span><span class="selector-class">.none</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#ff000026</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uptime</span> <span class="selector-class">.meta</span> <span class="selector-class">.status</span><span class="selector-class">.down</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>();</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f34539bb</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#uptime</span> <span class="selector-class">.timeline</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uptime</span> <span class="selector-class">.meta</span> <span class="selector-class">.status</span><span class="selector-class">.ok</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>();</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2195f3bb</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uptime</span> <span class="selector-class">.meta</span> <span class="selector-class">.name</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uptime</span> <span class="selector-class">.foot</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#757a80</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uptime</span> <span class="selector-class">.timeline</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">55px</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#999fa6</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.logo</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2195f3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uptime</span> <span class="selector-class">.item</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">18px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#c5def6</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uptime</span> &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="attribute">border</span>: <span class="number">0px</span> solid <span class="number">#e3e4e6</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#uptime</span> <span class="selector-class">.item</span> &#123;</span><br><span class="line">     </span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">15px</span> solid <span class="number">#060923</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><strong>最终效果：</strong></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200726002233.png"></fancybox>]]></content>
    
    <summary type="html">
    
      &lt;fancybox&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200726001149.png&quot;&gt;
&lt;/fancybox&gt;

&lt;p&gt;许久之前就开始使用 UptimeRobot 来监控站点的状态了，不过一直是使用默认的方式，即绑定域名后使用官方的默认模板，使用体验还算可以，但令人不爽的是只有最近一周的运行状态，而且感觉状态刷新频率也不高，时值近日 NAS 极不稳定（现在还没弄好），我非常想看看是有多不稳定，但官方的监控页面信息实在不足，因此换用基于官方API的自定义监控页面。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Hexo相关" scheme="https://www.cxmoe.com/categories/Hexo%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="Hexo" scheme="https://www.cxmoe.com/tags/Hexo/"/>
    
      <category term="UptimeRobot" scheme="https://www.cxmoe.com/tags/UptimeRobot/"/>
    
      <category term="CSS" scheme="https://www.cxmoe.com/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>快速重置乌班图和GL开发环境</title>
    <link href="https://www.cxmoe.com/article/483a.html"/>
    <id>https://www.cxmoe.com/article/483a.html</id>
    <published>2020-07-22T22:00:00.000Z</published>
    <updated>2021-03-08T21:01:06.000Z</updated>
    
    <content type="html"><![CDATA[<fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200809190237.png"></fancybox><p>这是一份完整的Ubuntu安装手册，可以帮助你快速初始化系统到可用状态，此手册包含两部分，包括Ubuntu系统的安装及配置、及GL相关开发环境的初始化。为了使行文更加清晰，文中插图全部以链接形式呈现，该手册仍然在完善中并已开源在Github。</p><a id="more"></a><p><strong>Go to <a href="https://tianzonglin.github.io/Ubuntu-Installog" target="_blank" rel="external nofollow noopener noreferrer">Github version</a></strong>，中英版本。</p><!-- TOC --><ul><li><a href="#0-机器信息">0. 机器信息</a></li><li><a href="#1-安装系统"><strong>1. 安装系统</strong></a><ul><li><a href="#11-准备usb启动盘"><strong>1.1 准备USB启动盘</strong></a></li><li><a href="#12-在bios中关闭-secure-boot"><strong>1.2 在BIOS中关闭 Secure Boot</strong></a></li><li><a href="#13-按正常步骤安装完系统"><strong>1.3 按正常步骤安装完系统</strong></a></li><li><a href="#14-第一次进入桌面后更新系统然后重启"><strong>1.4 第一次进入桌面后更新系统，然后重启</strong></a></li></ul></li><li><a href="#2-安装英伟达驱动"><strong>2. 安装英伟达驱动</strong></a><ul><li><a href="#21-添加软件源并查看"><strong>2.1 添加软件源并查看</strong></a></li><li><a href="#22-通过软件和更新直接安装"><strong>2.2 通过软件和更新直接安装</strong></a></li><li><a href="#23-不要设置-nouveau-黑名单或者设置-grub-启动项"><strong>2.3 不要设置 nouveau 黑名单或者设置 grub 启动项</strong></a></li></ul></li><li><a href="#3-安装-cuda-toolkit"><strong>3. 安装 cuda-toolkit</strong></a><ul><li><a href="#31-选择版本这里我用的-cuda-10_run"><strong>3.1 选择版本，这里我用的 cuda-10_*.run</strong></a></li><li><a href="#32-执行"><strong>3.2 执行</strong></a></li><li><a href="#33-跳过显卡安装"><strong>3.3 跳过显卡安装</strong></a></li><li><a href="#34-测试-samples"><strong>3.4 测试 Samples</strong></a></li><li><a href="#35-其他重要的配置"><strong>3.5 其他重要的配置</strong></a></li></ul></li><li><a href="#4-安装-gl-相关环境库"><strong>4. 安装 GL 相关环境、库</strong></a><ul><li><a href="#41-glglh"><strong>4.1 GL/gl.h</strong></a></li><li><a href="#42-glgluh"><strong>4.2 GL/glu.h</strong></a></li><li><a href="#43-others"><strong>4.3 others</strong></a></li><li><a href="#44-以上直接一次性安装"><strong>4.4 以上直接一次性安装</strong></a></li></ul></li><li><a href="#5-安装项目所需软件并重构"><strong>5. 安装项目所需软件并重构</strong></a><ul><li><a href="#51-基础工具"><strong>5.1 基础工具</strong></a></li><li><a href="#52-重新构建"><strong>5.2 重新构建</strong></a></li></ul></li><li><a href="#6-安装日程必备软件"><strong>6. 安装日程必备软件</strong></a><ul><li><a href="#61-截屏工具-flameshot"><strong>6.1 截屏工具： flameshot</strong></a></li><li><a href="#62-开发工具vscode"><strong>6.2 开发工具：vscode</strong></a></li></ul></li><li><a href="#7-使用-tweaks-修改主题"><strong>7. 使用 Tweaks 修改主题</strong></a><ul><li><a href="#71-安装-tweaks-及其扩展-extensions"><strong>7.1 安装 Tweaks 及其扩展 extensions</strong></a></li><li><a href="#72-更改顶部菜单栏样式"><strong>7.2 更改顶部菜单栏样式</strong></a></li><li><a href="#73-修改壁纸"><strong>7.3 修改壁纸</strong></a></li><li><a href="#74-修改面板到底部并把图标放到桌面"><strong>7.4 修改面板到底部，并把图标放到桌面</strong></a></li></ul></li><li><a href="#8-不重要的配置"><strong>8. 不重要的配置</strong></a><ul><li><a href="#81-添加中文支持"><strong>8.1 添加中文支持</strong></a></li><li><a href="#82-更改副屏分辨率"><strong>8.2 更改副屏分辨率</strong></a></li><li><a href="#83-添加一些未适配的应用"><strong>8.3 添加一些未适配的应用</strong></a></li><li><a href="#84-tweaks的一些不重要的美化设置"><strong>8.4 Tweaks的一些不重要的美化设置</strong></a></li><li><a href="#85-其他实用的配置及软件"><strong>8.5 其他实用的配置及软件</strong></a><ul><li><a href="#851-屏幕亮度控制"><strong>8.5.1 屏幕亮度控制</strong></a></li><li><a href="#852-vscode配置"><strong>8.5.2 Vscode配置</strong></a></li><li><a href="#853-picgo"><strong>8.5.3 picgo</strong></a></li><li><a href="#854-安装并配置-git"><strong>8.5.4 安装并配置 git</strong></a></li><li><a href="#855-远程桌面软件"><strong>8.5.5 远程桌面软件</strong></a></li></ul></li></ul></li><li><a href="#x-ubuntu使用注意事项"><strong>X. Ubuntu使用注意事项</strong></a><ul><li><a href="#x1-对于更新"><strong>X.1 对于更新</strong></a></li><li><a href="#x2-对于死机"><strong>X.2 对于死机</strong></a></li></ul></li></ul><!-- /TOC --><h3 id="0-机器信息"><a href="#0-机器信息" class="headerlink" title="0. 机器信息"></a>0. 机器信息</h3><ul><li>MSI GE62 490, 显卡英伟达960M（笔记本）</li><li>CPU: intel i7-6700HQ，带核显</li><li>单系统安装（ubuntu-18.04-LTS）</li></ul><h3 id="1-安装系统"><a href="#1-安装系统" class="headerlink" title="1. 安装系统"></a><strong>1. 安装系统</strong></h3><h4 id="1-1-准备USB启动盘"><a href="#1-1-准备USB启动盘" class="headerlink" title="1.1 准备USB启动盘"></a><strong>1.1 准备USB启动盘</strong></h4><p>注意：本文使用的官方镜像为 <a href="https://releases.ubuntu.com/18.04/ubuntu-18.04.4-desktop-amd64.iso" target="_blank" rel="external nofollow noopener noreferrer">ubuntu-18.04.4-desktop-amd64.iso</a>。</p><h4 id="1-2-在BIOS中关闭-Secure-Boot"><a href="#1-2-在BIOS中关闭-Secure-Boot" class="headerlink" title="1.2 在BIOS中关闭 Secure Boot"></a><strong>1.2 在BIOS中关闭 Secure Boot</strong></h4><h4 id="1-3-按正常步骤安装完系统"><a href="#1-3-按正常步骤安装完系统" class="headerlink" title="1.3 按正常步骤安装完系统"></a><strong>1.3 按正常步骤安装完系统</strong></h4><p>注意：如果你可以正常走完安装流程进入桌面，那就<strong>不需要</strong>修改 grub 的任何信息（例如nomodeset）。正常情况下，安装完后拔出USB启动盘，应该可以顺利进入桌面（此时系统运行在核显驱动下）。</p><h4 id="1-4-第一次进入桌面后更新系统，然后重启"><a href="#1-4-第一次进入桌面后更新系统，然后重启" class="headerlink" title="1.4 第一次进入桌面后更新系统，然后重启"></a><strong>1.4 第一次进入桌面后更新系统，然后重启</strong></h4><p>注意：当你第一次进入Ubuntu桌面时，可能会弹出系统及软件的更新，请同意更新，否则会影响后续操作。不过，当我们在安装完全部所需环境、软件之后，就不再需要更新了，尤其是尽量<strong>不进行</strong>系统级的更新，否则我们稍后安装的显卡驱动可能会因此出现异常。</p><h3 id="2-安装英伟达驱动"><a href="#2-安装英伟达驱动" class="headerlink" title="2. 安装英伟达驱动"></a><strong>2. 安装英伟达驱动</strong></h3><h4 id="2-1-添加软件源并查看"><a href="#2-1-添加软件源并查看" class="headerlink" title="2.1 添加软件源并查看"></a><strong>2.1 添加软件源并查看</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo add-apt-repository ppa:graphics-drivers&#x2F;ppa</span><br><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo ubuntu-drivers devices</span><br></pre></td></tr></table></figure><p>注意：这里会输出你的机器适配的显卡驱动，并且会有一个 recommend 推荐项，我们稍后就安装这个推荐版本。</p><h4 id="2-2-通过软件和更新直接安装"><a href="#2-2-通过软件和更新直接安装" class="headerlink" title="2.2 通过软件和更新直接安装"></a><strong>2.2 通过软件和更新直接安装</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Software and Updates -&gt;</span><br><span class="line">    additional drivers -&gt;</span><br><span class="line">        select the recommandation version -&gt;</span><br><span class="line">            apply</span><br></pre></td></tr></table></figure><p>注意：安装显卡驱动的方式有很多，较新版本的Ubuntu完全可以在“软件和更新”中直接进行显卡驱动的安装。无需下载安装文件，无需通过命令安装。</p><h4 id="2-3-不要设置-nouveau-黑名单或者设置-grub-启动项"><a href="#2-3-不要设置-nouveau-黑名单或者设置-grub-启动项" class="headerlink" title="2.3 不要设置 nouveau 黑名单或者设置 grub 启动项"></a><strong>2.3 不要设置 nouveau 黑名单或者设置 grub 启动项</strong></h4><p>注意：使用此种方式安装显卡驱动，配置完全由系统完成，我们不用做任何设置。在‘软件与更新’内完成显卡安装后，重启系统。</p><p>重启后进入桌面（此时正常情况下是会顺利启动的），此时用 <code>nvidia-smi</code> 可以测试显卡信息，截图：<a href="http://i.imgur.com/GgfSqCM.png" target="_blank" rel="external nofollow noopener noreferrer">http://i.imgur.com/GgfSqCM.png</a>，此外还可以直接通过系统信息来查看是否已加载英伟达显卡，截图：<a href="http://i.imgur.com/Euj6tQy.png" target="_blank" rel="external nofollow noopener noreferrer">http://i.imgur.com/Euj6tQy.png</a>。</p><h3 id="3-安装-cuda-toolkit"><a href="#3-安装-cuda-toolkit" class="headerlink" title="3. 安装 cuda-toolkit"></a><strong>3. 安装 cuda-toolkit</strong></h3><p><strong>（第3、4、5节和我自己的开发需求有关，一般使用可以跳过这几节！）</strong></p><h4 id="3-1-选择版本，这里我用的-cuda-10-run"><a href="#3-1-选择版本，这里我用的-cuda-10-run" class="headerlink" title="3.1 选择版本，这里我用的 cuda-10_*.run"></a><strong>3.1 选择版本，这里我用的 cuda-10_*.run</strong></h4><p>（截图： <a href="http://i.imgur.com/6xPtxju.png" target="_blank" rel="external nofollow noopener noreferrer">http://i.imgur.com/6xPtxju.png</a>）</p><h4 id="3-2-执行"><a href="#3-2-执行" class="headerlink" title="3.2 执行"></a><strong>3.2 执行</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo chmod 777 cuda-10_\*.run</span><br><span class="line">$ sudo sh cuda-10_\*.run</span><br></pre></td></tr></table></figure><h4 id="3-3-跳过显卡安装"><a href="#3-3-跳过显卡安装" class="headerlink" title="3.3 跳过显卡安装"></a><strong>3.3 跳过显卡安装</strong></h4><p>注意：我们在前面已经安装过显卡了，这里务必要回答 NO。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Install NVIDIA Accelerated Graphics Driver for Linux-x86_64 410.48?</span><br><span class="line">(y)es&#x2F;(n)o&#x2F;(q)uit: n</span><br></pre></td></tr></table></figure><h4 id="3-4-测试-Samples"><a href="#3-4-测试-Samples" class="headerlink" title="3.4 测试 Samples"></a><strong>3.4 测试 Samples</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ cd &#x2F;usr&#x2F;local&#x2F;cuda&#x2F;samples</span><br><span class="line">$ make</span><br><span class="line">  (10 minutes later)</span><br><span class="line">$ cd &#x2F;usr&#x2F;local&#x2F;cuda&#x2F;samples&#x2F;bin&#x2F;x86_64&#x2F;linux&#x2F;release</span><br><span class="line">$ .&#x2F;deviceQuery</span><br></pre></td></tr></table></figure><p>（截图： <a href="http://i.imgur.com/jJ7vpNw.png" target="_blank" rel="external nofollow noopener noreferrer">http://i.imgur.com/jJ7vpNw.png</a>）</p><h4 id="3-5-其他重要的配置"><a href="#3-5-其他重要的配置" class="headerlink" title="3.5 其他重要的配置"></a><strong>3.5 其他重要的配置</strong></h4><p>注意：别忘了添加环境变量到 <code>/etc/profile</code>，如果不添加的话，后面使用Cuda会出现 <code>libcudart.so.10.0: cannot open shared object file: No such file or directory</code> 这种错误。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export PATH&#x3D;&#x2F;usr&#x2F;local&#x2F;cuda&#x2F;bin:$PATH </span><br><span class="line">export LD_LIBRARY_PATH&#x3D;&#x2F;usr&#x2F;local&#x2F;lib:&#x2F;usr&#x2F;local&#x2F;cuda&#x2F;lib64&#x2F;</span><br></pre></td></tr></table></figure><p>到此为止，英伟达显卡驱动和Cuda已经全部安装完毕。并且也通过测试来确保了安装的正确。</p><h3 id="4-安装-GL-相关环境、库"><a href="#4-安装-GL-相关环境、库" class="headerlink" title="4. 安装 GL 相关环境、库"></a><strong>4. 安装 GL 相关环境、库</strong></h3><p><strong>（第3、4、5节和我自己的开发需求有关，一般使用可以跳过这几节！）</strong></p><h4 id="4-1-GL-gl-h"><a href="#4-1-GL-gl-h" class="headerlink" title="4.1 GL/gl.h"></a><strong>4.1 GL/gl.h</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install mesa-common-dev</span><br></pre></td></tr></table></figure><h4 id="4-2-GL-glu-h"><a href="#4-2-GL-glu-h" class="headerlink" title="4.2 GL/glu.h"></a><strong>4.2 GL/glu.h</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libglu1-mesa-dev freeglut3-dev</span><br></pre></td></tr></table></figure><h4 id="4-3-others"><a href="#4-3-others" class="headerlink" title="4.3 others"></a><strong>4.3 others</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">libglfw3-dev libgles2-mesa-dev libglew-dev libeigen3-dev</span><br></pre></td></tr></table></figure><h4 id="4-4-以上直接一次性安装"><a href="#4-4-以上直接一次性安装" class="headerlink" title="4.4 以上直接一次性安装"></a><strong>4.4 以上直接一次性安装</strong></h4><p>注意：这些库对我都是必须的，但这是取决于项目需求。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install mesa-common-dev freeglut3-dev libglfw3-dev libgles2-mesa-dev libglew-dev libeigen3-dev</span><br></pre></td></tr></table></figure><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h3 id="5-安装项目所需软件并重构"><a href="#5-安装项目所需软件并重构" class="headerlink" title="5. 安装项目所需软件并重构"></a><strong>5. 安装项目所需软件并重构</strong></h3><p><strong>（第3、4、5节和我自己的开发需求有关，一般使用可以跳过这几节！）</strong></p><h4 id="5-1-基础工具"><a href="#5-1-基础工具" class="headerlink" title="5.1 基础工具"></a><strong>5.1 基础工具</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install vim</span><br><span class="line">$ sudo apt install cmake</span><br></pre></td></tr></table></figure><h4 id="5-2-重新构建"><a href="#5-2-重新构建" class="headerlink" title="5.2 重新构建"></a><strong>5.2 重新构建</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ cd ProjectionExplain&#x2F;LIBRARY&#x2F;glui-master</span><br><span class="line">$ rm CMakeCache.txt</span><br><span class="line">$ make clean</span><br><span class="line">$ mkdir build &amp;&amp; cd build</span><br><span class="line">$ cmake ..</span><br><span class="line">$ make install</span><br><span class="line">$ cd ProjectionExplain&#x2F;</span><br><span class="line">$ make clean</span><br><span class="line">$ make </span><br><span class="line">$ .&#x2F;projwiz -f DATA&#x2F;segmentation lamp</span><br></pre></td></tr></table></figure><p>此时项目已经构建完毕并可以成功运行！<br> （截图： <a href="http://i.imgur.com/rDCtEId.png" target="_blank" rel="external nofollow noopener noreferrer">http://i.imgur.com/rDCtEId.png</a>）</p><h3 id="6-安装日程必备软件"><a href="#6-安装日程必备软件" class="headerlink" title="6. 安装日程必备软件"></a><strong>6. 安装日程必备软件</strong></h3><h4 id="6-1-截屏工具：-flameshot"><a href="#6-1-截屏工具：-flameshot" class="headerlink" title="6.1 截屏工具： flameshot"></a><strong>6.1 截屏工具： flameshot</strong></h4><p>使用 <code>sudo apt-get install flameshot</code> 完成安装，并如截图所示进行配置（截图： <a href="http://i.imgur.com/id2PPYj.png" target="_blank" rel="external nofollow noopener noreferrer">http://i.imgur.com/id2PPYj.png</a>）。</p><h4 id="6-2-开发工具：vscode"><a href="#6-2-开发工具：vscode" class="headerlink" title="6.2 开发工具：vscode"></a><strong>6.2 开发工具：vscode</strong></h4><p><strong>..更多相关配置在 8.5 小节..</strong></p><p>直接在 Ubuntu 的‘软件与更新’内安装Vscode（截图： <a href="http://i.imgur.com/W971ERc.png" target="_blank" rel="external nofollow noopener noreferrer">http://i.imgur.com/W971ERc.png</a>）。</p><p>然后，对于 Cmake 项目，Vscode更多的充当编辑器的作用，搭配 terminal 进行构建即可。以前文项目为例：</p><ul><li>在Vscode中打开项目文件夹 (ProjectionExplain)</li><li>在Vscode中打开终端，Terminal-&gt;new terminal</li><li>在Vscode代码区编辑代码，在终端内构建-&gt;make &amp;&amp; ./projwiz -f DATA/segmentation lamp</li></ul><h3 id="7-使用-Tweaks-修改主题"><a href="#7-使用-Tweaks-修改主题" class="headerlink" title="7. 使用 Tweaks 修改主题"></a><strong>7. 使用 Tweaks 修改主题</strong></h3><h4 id="7-1-安装-Tweaks-及其扩展-extensions"><a href="#7-1-安装-Tweaks-及其扩展-extensions" class="headerlink" title="7.1 安装 Tweaks 及其扩展 extensions"></a><strong>7.1 安装 Tweaks 及其扩展 extensions</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install gnome-shell-extensions gnome-shell-extension-dash-to-panel gnome-tweaks adwaita-icon-theme-full</span><br></pre></td></tr></table></figure><p>在这之后需要注销或者重启生效。</p><h4 id="7-2-更改顶部菜单栏样式"><a href="#7-2-更改顶部菜单栏样式" class="headerlink" title="7.2 更改顶部菜单栏样式"></a><strong>7.2 更改顶部菜单栏样式</strong></h4><p>扩展名称：applications menu。<br>注意：开启此扩展可以使应用菜单栏变得和Windows风格一致。扩展-&gt;设置内的选项都可能会被用到，可以自己探索一下。</p><h4 id="7-3-修改壁纸"><a href="#7-3-修改壁纸" class="headerlink" title="7.3 修改壁纸"></a><strong>7.3 修改壁纸</strong></h4><h4 id="7-4-修改面板到底部，并把图标放到桌面"><a href="#7-4-修改面板到底部，并把图标放到桌面" class="headerlink" title="7.4 修改面板到底部，并把图标放到桌面"></a><strong>7.4 修改面板到底部，并把图标放到桌面</strong></h4><p>Ubuntu 的dock默认的风格更像是 OSX 系统，Tweaks允许我们修改其成为 Windows 风格（在底部）。另外，像Windows那样，我们把图标也放在桌面上。</p><p>首先对 dock 样式进行修改：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">打开 Tweaks -&gt; Extensions </span><br><span class="line">      -&gt; 打开 &#39;applications menu&#39; </span><br><span class="line">      -&gt; 打开 &#39;Dash to panel&#39; -&gt; 打开设置</span><br><span class="line">            -&gt; Location and Style</span><br><span class="line">                  -&gt; panel location -&gt; bottom</span><br><span class="line">                  -&gt; panel size -&gt; 45px</span><br><span class="line">                  -&gt; icons margin -&gt; 5px</span><br><span class="line">                  -&gt; indicator -&gt; open settings</span><br><span class="line">                        -&gt; height -&gt; 0px (we hide it by this)</span><br><span class="line">                  -&gt; clock location -&gt; right</span><br><span class="line">                  -&gt; task panels -&gt; left</span><br><span class="line">            -&gt; Behaviors</span><br><span class="line">                  -&gt; 关闭 &#39;favoriate applications&#39;</span><br><span class="line">                  -&gt; 关闭 &#39;applications icon&#39;</span><br><span class="line">                  -&gt; 打开 &#39;show desktop&#39;</span><br><span class="line">                  -&gt; 关闭 &#39;cancel applications&#39; group&#39;</span><br></pre></td></tr></table></figure><p>对于图标问题：</p><p>Ubuntu 默认的图标路径有好几个，下面是几个可能包含图标的路径，我们只需要将这些图标复制到桌面即可。<strong>注意：</strong>你会发现复制之后图标变成了 *.desktop 文件，我们只需要双击它们，然后点击‘信任并启动’，之后它们就会变回图标的样子了。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;usr&#x2F;share&#x2F;applications</span><br><span class="line">&#x2F;var&#x2F;lib&#x2F;snapd&#x2F;desktop&#x2F;applications</span><br><span class="line">~&#x2F;.local&#x2F;share&#x2F;applications</span><br></pre></td></tr></table></figure><p>至此，基础的主题修改已经完成，目前为止，你的 Ubuntu 看起来应该非常接近 Windows 了。（截图： <a href="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/2020-07-2823849238944.png" target="_blank" rel="external nofollow noopener noreferrer">http://i.imgur.com/y7safc9.png</a>）</p><h3 id="8-不重要的配置"><a href="#8-不重要的配置" class="headerlink" title="8. 不重要的配置"></a><strong>8. 不重要的配置</strong></h3><h4 id="8-1-添加中文支持"><a href="#8-1-添加中文支持" class="headerlink" title="8.1 添加中文支持"></a><strong>8.1 添加中文支持</strong></h4><ul><li><strong>第一步给系统添加中文</strong></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">打开 Settings </span><br><span class="line">-&gt; Region &amp; Languages</span><br><span class="line">    -&gt; manage installed language</span><br><span class="line">        -&gt; 如果弹出 &#39;installed not complete&#39;，那么先完成安装</span><br><span class="line">            -&gt; 点击 &#39;Install&#x2F;Remove Languages&#39; </span><br><span class="line">                -&gt; 选择 Chinese 然后安装（可能需要双击）</span><br><span class="line">            -&gt; 然后在 &#39;Language for menu and windows&#39; </span><br><span class="line">                -&gt; 拖拽 Chinese 到排名第一的位置</span><br><span class="line">-&gt; 现在在 &#39;Region &amp; Language&#39;中，语言已经自动的变为中文了</span><br></pre></td></tr></table></figure><p>注意：上述操作完并重启后，系统才会变成中文。一般会弹出一个 ‘change public folder names’ 询问弹框，就是问你要不要修改那几个公共文件夹的名字，强烈建议不要修改，即保持默认英文名称，这对于很多 bash 操作是很有利的。</p><ul><li><strong>安装搜狗输入法</strong></li></ul><p>注意：从官网下载安装包 <a href="https://pinyin.sogou.com/linux/?r=pinyin" target="_blank" rel="external nofollow noopener noreferrer">Linux_64-bit.deb.</a>，如果你用的是比较老的 Ubuntu 系统，请参照 <a href="https://pinyin.sogou.com/linux/help.php" target="_blank" rel="external nofollow noopener noreferrer">此页面</a> 进行安装。</p><ul><li><strong>安装 fcitx 并修改输入源为 SogouPinyin</strong></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt install fcitx</span><br><span class="line"></span><br><span class="line">然后打开 Settings</span><br><span class="line">    -&gt; manage installed language</span><br><span class="line">        -&gt; 修改 &#39;Input System&#39;(默认是IBus) 为 fcitx</span><br><span class="line">        -&gt; 然后点击 &#39;apply system-wild&#39;</span><br><span class="line">-&gt; 现在最好是重启一次，然后</span><br><span class="line">    -&gt; 在任务栏找到一个小键盘图标，</span><br><span class="line">        -&gt; 点击&#39;configure current input method&#39;</span><br><span class="line">            -&gt; 然后应该能发现搜狗输入法，还有些别的输入法</span><br><span class="line">                 我们可以删掉其余的输入法，只保留搜狗输入法和英文输出</span><br><span class="line">现在就完成全部输入法配置了，默认的切换键是 ‘单次Shift’</span><br></pre></td></tr></table></figure><p>注意：</p><p>以上三部分是不同的，请一步步来，并且在过程中如果没发现新增项，请尝试重启系统。有了中文支持，我们可以进一步对 Tweaks 进行配置。 （截图： <a href="http://i.imgur.com/l5sLZwZ.png" target="_blank" rel="external nofollow noopener noreferrer">http://i.imgur.com/l5sLZwZ.png</a>）</p><h4 id="8-2-更改副屏分辨率"><a href="#8-2-更改副屏分辨率" class="headerlink" title="8.2 更改副屏分辨率"></a><strong>8.2 更改副屏分辨率</strong></h4><ul><li>连接你的副屏，我的副屏是2k屏，笔记本是1080的，所以输出分辨率最大只有1080，我们需要手动修改它；</li><li>新建个 sh 文件，里面包含重置分辨率的命令，这样只需要每次重启后设置自动执行，即可自动变为2k的输出。 下面需要做些准备工作来确定最后写入 sh 文件的三行命令的参数。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">首先是得到本机指定分辨率的渲染参数</span><br><span class="line"></span><br><span class="line">$ cvt 2560 1440</span><br><span class="line">&#x2F;&#x2F;下面的&quot;2560x1440_55.00&quot;就是从这里获得的</span><br><span class="line">$ xrandr -q</span><br><span class="line">&#x2F;&#x2F;这里查看副屏对应的显示器编号，下面的&quot;HDMI-1-2&quot;就是从这来的。 </span><br><span class="line"></span><br><span class="line">写入文件的三行：</span><br><span class="line"></span><br><span class="line">xrandr --newmode &quot;2560x1440_55.00&quot;  284.00  2560 2744 3016 3472  1440 1443 1448 1489 -hsync +vsync</span><br><span class="line">xrandr --addmode HDMI-1-2 &quot;2560x1440_55.00&quot;</span><br><span class="line">xrandr --output HDMI-1-2 --mode &quot;2560x1440_55.00&quot; --output eDP-1-1 --off</span><br></pre></td></tr></table></figure><ul><li>文件写好后，你可以手动去执行，当然如前所述，使之开机自动运行是最好的。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">quick way :</span><br><span class="line">    -&gt; 将这三行命令放入 &#x2F;etc&#x2F;profile 文件内的最末尾；</span><br><span class="line">    -&gt; 重启后会发现可以自动得到 2k 的分辨率。</span><br></pre></td></tr></table></figure><p>注意：这样写的弊端在于，你必须保证2k副屏后再重启，如果你不用副屏了，你必须从 profile 里去掉这三行命令，否则会出错的。</p><h4 id="8-3-添加一些未适配的应用"><a href="#8-3-添加一些未适配的应用" class="headerlink" title="8.3 添加一些未适配的应用"></a><strong>8.3 添加一些未适配的应用</strong></h4><p>像是微信、QQ等聊天工具，或者红警等游戏，对于这些软件，默认是没有支持的，但仍然可以通过一些方法安装。</p><ul><li>方法一：在‘软件与更新’中安装 Wine，然后通过 Wine 来安装 Windows 应用。</li><li>方法二：安装安卓模拟器，通过模拟器来使用QQ等软件，这里我推荐 <a href="https://www.linzhuotech.com/index.php/home/index/download.html" target="_blank" rel="external nofollow noopener noreferrer">这个模拟器</a>，渲染速度和稳定性都还是不错的。（截图： <a href="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/Cache_32799f853a0e21fe..jpg" target="_blank" rel="external nofollow noopener noreferrer">img/Cache_32799f853a0e21fe..jpg</a>）</li><li><strong>方法三：墙裂推荐！</strong>这里直接下载封装了精简 Wine 环境的 QQ 软件包，即可以使用QQ，无需多余安装 Wine 也无需其他预先配置，只需要下载对应的 AppImage 文件，然后启动即可使用！</li></ul><p>方法三步骤：（<a href="https://github.com/askme765cs/Wine-QQ-TIM" target="_blank" rel="external nofollow noopener noreferrer">Github地址</a>）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;首先去release下载文件</span><br><span class="line"></span><br><span class="line">$ chmod a+x TIM-x86_64.AppImage</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;通过命令直接启动</span><br><span class="line">$ .&#x2F;TIM-x86_64.AppImage.AppImage</span><br></pre></td></tr></table></figure><p>注意，尽量选择TIM，QQ在我机器上测试发现有点问题。</p><p>如果你想通过图标点击来启动之，那么可以自己新建一个图标文件来完成，然后将此图标文件放到<code>~/.local/share/applications</code>，之后，在系统软件搜索界面你就能搜到你刚才添加的图标了（也就是个应用启动器），如果你想把它放到桌面，只需要将其复制到桌面，双击一下（选信任并启动）就行了。下面是制作 QQ 图标的步骤：</p><p>首先，获取图片（qq.png）然后创建 desktop 图标文件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ wget https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;TianZonglin&#x2F;tuchuang&#x2F;img&#x2F;qq.png</span><br><span class="line">$ vim QQ.desktop</span><br></pre></td></tr></table></figure><p>然后，复制并保存以下内容到你的图标文件中，注意修改路径。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Name&#x3D;QQ</span><br><span class="line">Exec&#x3D;&#x2F;home&#x2F;tzloop&#x2F;Downloads&#x2F;TIM-x86_64.AppImage</span><br><span class="line">Icon&#x3D;&#x2F;home&#x2F;tzloop&#x2F;Downloads&#x2F;qq.png</span><br><span class="line">Type&#x3D;Application</span><br><span class="line">StartupNotify&#x3D;true</span><br></pre></td></tr></table></figure><p>然后右键这个文件，在权限页面，勾选“允许作为应用执行”，最后将这个图标文件复制到指定路径。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo cp &#x2F;home&#x2F;tzloop&#x2F;Downloads&#x2F;QQ.desktop ~&#x2F;.local&#x2F;share&#x2F;applications</span><br></pre></td></tr></table></figure><h4 id="8-4-Tweaks的一些不重要的美化设置"><a href="#8-4-Tweaks的一些不重要的美化设置" class="headerlink" title="8.4 Tweaks的一些不重要的美化设置"></a><strong>8.4 Tweaks的一些不重要的美化设置</strong></h4><ul><li>主题 -&gt;  Adwaita-dark</li><li>指针 -&gt; Adwaita-default</li></ul><p>字体设置，默认的字体及大小为 <code>Ubuntu/11, Ubuntu Regular/11, Sans Regular/11, Ubuntu Mono Regular/13</code><br>这里我把前三项设置为了 <code>Ubuntu Medium</code> 字号不变，然后把整体的 <code>zoom ratio</code> 设置为了 1.3.</p><h4 id="8-5-其他实用的配置及软件"><a href="#8-5-其他实用的配置及软件" class="headerlink" title="8.5 其他实用的配置及软件"></a><strong>8.5 其他实用的配置及软件</strong></h4><h5 id="8-5-1-屏幕亮度控制"><a href="#8-5-1-屏幕亮度控制" class="headerlink" title="8.5.1 屏幕亮度控制"></a><strong>8.5.1 屏幕亮度控制</strong></h5><p>我使用 RedShift 软件来控制，相同的软件还有很多，像是 F.lux 等等也是很棒的。安装 RedShift 的步骤：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-&gt; install it with &#96;sudo apt-get install redshift-gtk&#96;, gtk means visual version.</span><br><span class="line">-&gt; open location service: Settings -&gt; Privacy -&gt; Location service -&gt; open. (this step is ESSENTIAL)</span><br><span class="line">-&gt; open redshift, if you can&#39;t find the icon, just search it in &#39;applications&#39;.</span><br><span class="line">-&gt; then, brightness will be changed</span><br><span class="line">-&gt; finally, with its menu, you can set it open with your system.</span><br></pre></td></tr></table></figure><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h5 id="8-5-2-Vscode配置"><a href="#8-5-2-Vscode配置" class="headerlink" title="8.5.2 Vscode配置"></a><strong>8.5.2 Vscode配置</strong></h5><p><strong>@主题</strong></p><p> <code>File -&gt; Preferences -&gt; Color Theme</code>，我选择暗蓝色的 <code>Tomorrow Night Blue</code> 主题。</p><p><strong>@字体</strong></p><p> <code>File -&gt; Preferences -&gt; Settings</code>，通过<code>search</code> （搜索 <code>font</code>）来定位。我推荐直接用JSON进行编辑，编辑内容如下： </p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;terminal.integrated.fontFamily&quot;: &quot;monospace&quot;,</span><br><span class="line">    &quot;editor.fontWeight&quot;: &quot;600&quot;,</span><br><span class="line">    &quot;editor.fontFamily&quot;: &quot;monospace&quot;,</span><br><span class="line">    &quot;editor.fontSize&quot;: 15.5,</span><br><span class="line">    &quot;terminal.integrated.fontSize&quot;: 12,</span><br><span class="line">    &quot;workbench.colorTheme&quot;: &quot;Tomorrow Night Blue&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">以上组合在我的2K高分屏上工作的很好，推荐使用。</span><br></pre></td></tr></table></figure><p>如果你想让你的编码字体和 Windows 上的VSCode字体一致，那么你得首先安装 Windows 使用的字体，安装字体的步骤如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ wget https:&#x2F;&#x2F;down.gloriousdays.pw&#x2F;Fonts&#x2F;Consolas.zip</span><br><span class="line">$ unzip Consolas.zip</span><br><span class="line">$ sudo mkdir -p &#x2F;usr&#x2F;share&#x2F;fonts&#x2F;consolas</span><br><span class="line">$ sudo cp consola*.ttf &#x2F;usr&#x2F;share&#x2F;fonts&#x2F;consolas&#x2F;</span><br><span class="line">$ sudo chmod 644 &#x2F;usr&#x2F;share&#x2F;fonts&#x2F;consolas&#x2F;consola*.ttf</span><br><span class="line">$ cd &#x2F;usr&#x2F;share&#x2F;fonts&#x2F;consolas</span><br><span class="line">$ sudo mkfontscale &amp;&amp; sudo mkfontdir &amp;&amp; sudo fc-cache -fv</span><br><span class="line">&#x2F;&#x2F;check the installed fonts</span><br><span class="line">$ fc-list</span><br></pre></td></tr></table></figure><p><strong>@终端的位置</strong></p><p>在设置中搜索 <code>location</code>，找到 <code>Workbench › Panel: Default Location</code> ，将其修改为 Right，因为我想让代码区有更高的视野，同时代码也不会很长也就是不需要很大的宽度，即右侧部分可以来放置终端。</p><p><strong>@在左侧文件树视图内文件的排序规则</strong></p><p>在设置中搜索 <code>explorer.sortOrder</code>，并将其设置为按 <code>type</code> 排序，这对于混杂不同类型文件的项目来说很方便，相同种类的文件被放在一起。</p><p>最后修改完配置的Vscode截图长这样：<a href="http://i.imgur.com/g7OehEL.png" target="_blank" rel="external nofollow noopener noreferrer">http://i.imgur.com/g7OehEL.png</a>。</p><h5 id="8-5-3-picgo"><a href="#8-5-3-picgo" class="headerlink" title="8.5.3 picgo"></a><strong>8.5.3 picgo</strong></h5><p>如果你希望方便的上传、分享你的截图或图片，那么一定要试试 PicGo，其在 Ubuntu 上的安装使用和之前的 TIM.AppImage 非常类似，具体如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">首先获得图标 picgo.png 并创建你的图标文件</span><br><span class="line"></span><br><span class="line">$ wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;TianZonglin&#x2F;tuchuang&#x2F;master&#x2F;img&#x2F;opic.png</span><br><span class="line">$ vim QQ.desktop</span><br><span class="line"></span><br><span class="line">然后复制以下内容到图标文件内，改成你的路径。</span><br><span class="line"></span><br><span class="line">[Desktop Entry]</span><br><span class="line">Name&#x3D;PicGO</span><br><span class="line">Exec&#x3D;&#x2F;home&#x2F;tzloop&#x2F;Downloads&#x2F;PicGo.AppImage</span><br><span class="line">Icon&#x3D;&#x2F;home&#x2F;tzloop&#x2F;Downloads&#x2F;opic.png</span><br><span class="line">Type&#x3D;Application</span><br><span class="line">StartupNotify&#x3D;true</span><br><span class="line"></span><br><span class="line">然后右键-&gt;权限页-&gt;允许作为应用执行</span><br><span class="line">最后复制到所需要的路径中</span><br></pre></td></tr></table></figure><p>如果你想直接上传你剪切板内的图片，那么在Ubuntu上你还需要安装个软件，通过 <code>sudo apt install xclip</code> 直接安装即可，下面是 PicGo 配置 Github 图床的步骤：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">repository name -&gt; GITHUBACCOUNT&#x2F;tuchuang</span><br><span class="line">branch name -&gt; master</span><br><span class="line">token -&gt; get a new one from Github (Settings -&gt; Developer Settings -&gt; Personal access tokens)</span><br><span class="line">storage path -&gt; img&#x2F;</span><br><span class="line">custom domain name -&gt; https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;GITHUBACCOUNT&#x2F;tuchuang</span><br></pre></td></tr></table></figure><h5 id="8-5-4-安装并配置-git"><a href="#8-5-4-安装并配置-git" class="headerlink" title="8.5.4 安装并配置 git"></a><strong>8.5.4 安装并配置 git</strong></h5><ul><li><strong>settings</strong></li></ul><p>安装非常简单，直接用 <code>sudo apt install git</code> 进行安装，然后配合 Github，接下来设置免密。注意：Github只是一种 git server，其他的诸如 gitlab 等同理。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C &quot;YOUREMAIL&quot;</span><br><span class="line">$ vim ~&#x2F;.ssh&#x2F;id_rsa.pub</span><br></pre></td></tr></table></figure><p>然后去 Github -&gt; Settings -&gt; SSH and GPG keys -&gt; New SSH key，然后把 rsa.pub 的内容拷贝到 key 这里。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;YOURUSERNAME&quot;</span><br><span class="line">$ git config --global user.email &quot;YOUREMAIL&quot;</span><br></pre></td></tr></table></figure><p>至此，我们已完成免密设置，之后我们提交代码就不用进行账号验证了。（这只是ssh方式，https需要额外的设置）</p><ul><li><strong>同步代码的案例（我的方法）</strong> </li></ul><p>在 Github 新建一个仓库并命名为你项目名称，然后通过 <code>git clone git@xx.git</code> 将此空项目克隆到你的电脑，最后，将原项目的内容全部移动到此空文件夹内，然后执行以下语句，即可完成第一次提交。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add -A</span><br><span class="line">git commit -m &quot;&#96;date +%Y-%m-%d,%H:%m&#96;&quot; </span><br><span class="line">git push -u origin master -f</span><br></pre></td></tr></table></figure><p>现在你的代码应该已经可以在 Github 上可见了，如果你想控制提交的部分，你还需要修改/创建 <code>.gitignore</code> 文件。</p><p>我通常将其放在 sh 文件内，并在文件内的第一行添加 <code>#!/bin/sh</code>，这样就可以通过一行命令直接运行这三行命令，当然如果你想自动地、周期性的备份你的代码，你可以用 <code>crontab</code> 来将这个 sh 设置为周期性执行，这样你就无需手动备份啦！ </p><h5 id="8-5-5-远程桌面软件"><a href="#8-5-5-远程桌面软件" class="headerlink" title="8.5.5 远程桌面软件"></a><strong>8.5.5 远程桌面软件</strong></h5><p>对于Ubuntu用户来说，好的远程桌面软件也是十分重要的，这里我强烈推荐 AnyDesk，这是个非常轻量。易安装的远程桌面软件，没有 Vnc 那种额外的设置，只需要下载、安装，即可使用。</p><p>使用 Anydesk 首先要去官网（<a href="https://anydesk.com/zhs/downloads/linux" target="_blank" rel="external nofollow noopener noreferrer">here</a> ）下载 ，之后安装之，安装后即可使用。</p><h3 id="X-Ubuntu使用注意事项"><a href="#X-Ubuntu使用注意事项" class="headerlink" title="X. Ubuntu使用注意事项"></a><strong>X. Ubuntu使用注意事项</strong></h3><h4 id="X-1-对于更新"><a href="#X-1-对于更新" class="headerlink" title="X.1 对于更新"></a><strong>X.1 对于更新</strong></h4><p>在安装完所有驱动软件环境之后，尽量不进行系统更新，或者推迟它，不要尝试在设置中停止更新，因为我没找到，而且实际上我把软件更新给停了，给我造成好大不便，所以只需要记住关掉每次的更新弹窗即可。（不要动截图这里的东西：<a href="http://i.imgur.com/w7Kvc7X.png" target="_blank" rel="external nofollow noopener noreferrer">http://i.imgur.com/w7Kvc7X.png</a>）</p><h4 id="X-2-对于死机"><a href="#X-2-对于死机" class="headerlink" title="X.2 对于死机"></a><strong>X.2 对于死机</strong></h4><p>对 Ubuntu 来说，死机更多时候是桌面卡死，也就是假死，系统并没有死机，tty仍然可以进入，这时候<strong>切记不要</strong>断电重启，这种硬重启会给内核带来不明影响，说不定这样之后你系统就启动不了啦！</p><p>正确的方法是：<code>Ctrl+Alt+F2/3/4</code>，进入 <code>tty2/3/4</code>，然后 <code>restart gdm/lightdm</code>，或者你如果记得你先前的错误操作，那么在此处回滚即可，亦或是等着什么也不做，有些情况下系统会在一段时间后从死机中恢复的。</p><!--[**中 文 版 本**](https://www.cxmoe.com/article/483a.html) -->]]></content>
    
    <summary type="html">
    
      &lt;fancybox&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200809190237.png&quot;&gt;
&lt;/fancybox&gt;


&lt;p&gt;这是一份完整的Ubuntu安装手册，可以帮助你快速初始化系统到可用状态，此手册包含两部分，包括Ubuntu系统的安装及配置、及GL相关开发环境的初始化。为了使行文更加清晰，文中插图全部以链接形式呈现，该手册仍然在完善中并已开源在Github。&lt;/p&gt;
    
    </summary>
    
    
      <category term="研究方向" scheme="https://www.cxmoe.com/categories/%E7%A0%94%E7%A9%B6%E6%96%B9%E5%90%91/"/>
    
    
      <category term="Ubuntu" scheme="https://www.cxmoe.com/tags/Ubuntu/"/>
    
      <category term="显卡" scheme="https://www.cxmoe.com/tags/%E6%98%BE%E5%8D%A1/"/>
    
      <category term="CUDA" scheme="https://www.cxmoe.com/tags/CUDA/"/>
    
  </entry>
  
  <entry>
    <title>十分钟搭建自己的Q&amp;A问答社区</title>
    <link href="https://www.cxmoe.com/article/614d.html"/>
    <id>https://www.cxmoe.com/article/614d.html</id>
    <published>2020-06-27T22:00:00.000Z</published>
    <updated>2021-03-08T21:01:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>开源问答社区一直是一种社区形式，而且已经形成了诸如 Stack Overflow 和国内 SegmentFault 等一众问答社区。这些问答型社区的初衷都是旨在围绕特定的主题（编程）来对相关知识进行发问和探讨，区别于 Quarta 和知乎这类问答，其目标更明确，答案更清晰，整体上更像一个特定的知识库，通过问题来了解某一特定领域我认为也是个不错的选择。那么现在，围绕前段时间的CSC申请，在专栏已经积累了大量问答的材料，已经有必要专为其构建一个清晰、可用的问答自主系统了，<strong>Question2Answer</strong> 无疑对此非常合适！</p><a id="more"></a><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200627232744.png"></fancybox><p>注意：类似的框架/网站，还有不少，选择 Q2A 的主要原因还是因为它的易用性，搭建下来确实是非常的简单。</p><h3 id="安装教程"><a href="#安装教程" class="headerlink" title="安装教程"></a><strong>安装教程</strong></h3><p>安装 Question2Answer 系统是非常非常简单（dead easy）的，官方教程比较啰嗦，这里直接总结干货。</p><h4 id="环境需求"><a href="#环境需求" class="headerlink" title="环境需求"></a><strong>环境需求</strong></h4><p>首先选择自己的 Server，这里直接以 Apache 为例；然后还需要 PHP 和 Mysql，相关的软件环境版本的要求如下。更具体来说，直接安装 phpstudy（6.5以上版本均可）就完事儿了，全都是符合要求的。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Apache or Nginx 无版本要求</span><br><span class="line">PHP &gt;&#x3D; 5.2 需要带MySQLi扩展（默认不用管）</span><br><span class="line">MySQL &gt;&#x3D; 5.x</span><br></pre></td></tr></table></figure><p>安装完 phpstudy 后，启动 Apache+Mysql，然后用其自带的 mysql-front 工具打开数据库，创建一个数据库，或者选择一个默认的数据库也可以，设置用户名密码（如果你需要密码），到此基本就完成配置了，后面需要给其提供数据库地址（localhost）、登录用户名、登录密码、数据库名称，即可。</p><h4 id="下载Q2A文件"><a href="#下载Q2A文件" class="headerlink" title="下载Q2A文件"></a><strong>下载Q2A文件</strong></h4><p>首先，去其Github的release下载最新版本，<a href>点击前往</a>。下载之后，将这个压缩包解压，然后全部放入 Apache 的网站根目录（WWW目录）。注意，在此处需要修改两个文件，<code>qa-config-example.php</code> 和 <code>.htaccess-example</code>，分别修改成 <code>qa-config.php</code> 和 <code>.htaccess</code>，对于后着可能会出现无法修改文件名的问题，自己想办法吧哈。（至此就能访问了，但我们还要引入一个中文包）</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200627230727.png"></fancybox><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><p>然后，在 <a href="https://github.com/yinhongbo/q2a-lang-cn/archive/master.zip" target="_blank" rel="external nofollow noopener noreferrer">这里</a> 下载其中文语言包。将解压出的语言文件（就一个zh文件夹），放入 WWW 目录下的 qa-lang 文件夹，和初始的英语语言文件夹并列。到此就结束了，后面在网页上可以自动识别并加载语言包。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200627230841.png"></fancybox><p>最后，打开浏览器，访问 localhost:80 可以看到一个初始页面，上面有个 <code>很长的按钮</code>（初始化的按钮），点击一下稍作配置（设置超级管理员、语言）即可进入 Q2A 系统。</p><h4 id="修改系统的配置项"><a href="#修改系统的配置项" class="headerlink" title="修改系统的配置项"></a><strong>修改系统的配置项</strong></h4><p>初始系统的主题叫 SnowFlat，样子还是不错的，整体的论坛功能分区也很简单，所有的操作都集中在顶栏，点击其中的管理，进入配置页面，在此页面的内页顶栏又分了许多子项（大概十几项）。没必要每个都拿出胡来说一遍，如果你正确的配置了中文环境，</p><p>那么其实每一页的功能就很明了了，你需要做的就是阅读每一页，并且尝试修改这些功能，然后查看效果（都是修改提交后即可生效的）。</p><p>在我这段时间的使用过程中，觉得主要的修改集中在以下几个方面：</p><ul><li>普通：主体配置。</li><li>布局：修改各位置的html内容。</li><li>列表：关于显示条数。</li><li>权限：关于提问或者回答问题。</li><li>页面：关于导航栏的显示。</li><li>插件：开启标签云、快速提问等。</li></ul><p>再次强调，都是很简单的配置项，基本上自己尝试一遍就可以迅速的把相关内容修改到理想的状态了，多试试就OK啦。</p><h3 id="最终效果"><a href="#最终效果" class="headerlink" title="最终效果"></a><strong>最终效果</strong></h3><p>演示地址（临时）：<a href="http://150.158.118.199/csc/" target="_blank" rel="external nofollow noopener noreferrer">点击前往</a></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200627234122.png"></fancybox>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;开源问答社区一直是一种社区形式，而且已经形成了诸如 Stack Overflow 和国内 SegmentFault 等一众问答社区。这些问答型社区的初衷都是旨在围绕特定的主题（编程）来对相关知识进行发问和探讨，区别于 Quarta 和知乎这类问答，其目标更明确，答案更清晰，整体上更像一个特定的知识库，通过问题来了解某一特定领域我认为也是个不错的选择。那么现在，围绕前段时间的CSC申请，在专栏已经积累了大量问答的材料，已经有必要专为其构建一个清晰、可用的问答自主系统了，&lt;strong&gt;Question2Answer&lt;/strong&gt; 无疑对此非常合适！&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站组网" scheme="https://www.cxmoe.com/categories/%E5%BB%BA%E7%AB%99%E7%BB%84%E7%BD%91/"/>
    
    
      <category term="总结" scheme="https://www.cxmoe.com/tags/%E6%80%BB%E7%BB%93/"/>
    
      <category term="建站" scheme="https://www.cxmoe.com/tags/%E5%BB%BA%E7%AB%99/"/>
    
      <category term="教程" scheme="https://www.cxmoe.com/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>体验1Gbps的上下行对等网络</title>
    <link href="https://www.cxmoe.com/article/cbd8.html"/>
    <id>https://www.cxmoe.com/article/cbd8.html</id>
    <published>2020-06-25T22:00:00.000Z</published>
    <updated>2021-03-08T21:01:05.000Z</updated>
    
    <content type="html"><![CDATA[<fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200627002026.png"></fancybox><p>由于新冠疫情的消退，关闭了许久的校园终于开始逐步开放，又坐回熟悉的位子，打开熟悉的电脑，一顿操作后一切如旧。也许是我心血来潮，毫无征兆的就想测一下网速，不测不知道，一测吓一跳，阔别了几个月的网络，今天一测居然达到了<strong>1Gbps（1000Mbps）</strong>，而且还是上下行对等！瞬间惊掉了我的下巴…在此简单记录一下初次开车上高速的心情。</p><a id="more"></a><h3 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h3><p>曾几何时，百兆光纤还是写在网吧门口的标语，作为重大卖点吸引顾客。而现在，百兆（100Mbps）网络早已飞入寻常百姓家，据我所知，下到城镇上至城市，200M光纤、500M光纤已成为大家的普遍选择。需要注意的是，这里的百兆，通通指的是下行带宽，对于上行带宽，不论国内还是国外，通常只有下行的十分之一，上下行对等网络由于费用问题，一般难以推广。随着5G时代的到来，越来越多的国内运营商开始吹捧1Gbps的超大网络带宽，但以目前能检索到的资讯来看，即便是目前试行的标称1Gbps的网络，速度往往也只有600-800Mbps，水分还是存在的。</p><p>那么，我们学校现在的网络到底是怎么回事儿呢？从原来的中等生一跃成为尖子生，到底发生了什么，我也不知道，<strong>或许是整合了华为的5G？</strong>这谁又知道呢。</p><h3 id="1Gbps初体验"><a href="#1Gbps初体验" class="headerlink" title="1Gbps初体验"></a>1Gbps初体验</h3><p>话不多说了，开车，看一下风景！</p><h4 id="一般的网络资源下载"><a href="#一般的网络资源下载" class="headerlink" title="一般的网络资源下载"></a>一般的网络资源下载</h4><p>如我所预料，看到这个<strong>106M/s</strong>的下载速度，心简直要飞出来了，活这么大还没体验过这下载速度噢。。这瞬间让我有点期待5G的来临了，虽然我不知道这个速度是不是5G来的。。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200626234707.png"></fancybox><h4 id="YouTube-8K-60FPS"><a href="#YouTube-8K-60FPS" class="headerlink" title="YouTube 8K 60FPS"></a>YouTube 8K 60FPS</h4><p>连接速度居然达到了惊人的<strong>41万kbps</strong>，要知道普通的海外百兆（100）带宽的连接速度也只有十几万，国内翻Q发烧友们看YouTube的发烧水准也只停留在20万，因为二十万左右8K视频就可以流畅（Buffer Health，超前缓冲）观看了。私以为这个速度还可以更快更恐怖，只不过我找不到合适的测试视频了，汗颜。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/W@N48_G1TCV}ZKP}R({@B77.png"></fancybox><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h4 id="更新LOL客户端"><a href="#更新LOL客户端" class="headerlink" title="更新LOL客户端"></a>更新LOL客户端</h4><p>几个月没有打开的LOL，打开之后没注意的功夫，已经进入主界面了，真的是一种毫无迟滞感的体验。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/3AHBL}79)7PE0RZP9_5Y4`V.png"></fancybox><h3 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h3><p>不得不说，网络速度是这个网络时代影响人们体验网络的最最重要的因素之一，通过我的使用经历，我只能说网速的提升确实可以给我带来不一样的体验：</p><ul><li>想到、找到，即可以下载到；</li><li>想到、上传，即可以云端看到。</li></ul><p>这是从百兆到千兆的跳跃，也是改变人们网络使用习惯的一个转折，或许在可预见的未来，网速已失去其标量意义，超大带宽让人们忽略传输时间，那种生活的方方面面或许我们还不能够想象，但可以肯定的是，它正在向我们走来。</p>]]></content>
    
    <summary type="html">
    
      &lt;fancybox&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200627002026.png&quot;&gt;
&lt;/fancybox&gt;

&lt;p&gt;由于新冠疫情的消退，关闭了许久的校园终于开始逐步开放，又坐回熟悉的位子，打开熟悉的电脑，一顿操作后一切如旧。也许是我心血来潮，毫无征兆的就想测一下网速，不测不知道，一测吓一跳，阔别了几个月的网络，今天一测居然达到了&lt;strong&gt;1Gbps（1000Mbps）&lt;/strong&gt;，而且还是上下行对等！瞬间惊掉了我的下巴…在此简单记录一下初次开车上高速的心情。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Daily_Life" scheme="https://www.cxmoe.com/categories/Daily-Life/"/>
    
    
      <category term="联网" scheme="https://www.cxmoe.com/tags/%E8%81%94%E7%BD%91/"/>
    
      <category term="初体验" scheme="https://www.cxmoe.com/tags/%E5%88%9D%E4%BD%93%E9%AA%8C/"/>
    
  </entry>
  
  <entry>
    <title>将群晖相册嵌入到Hexo博客中</title>
    <link href="https://www.cxmoe.com/article/1c44.html"/>
    <id>https://www.cxmoe.com/article/1c44.html</id>
    <published>2020-06-20T22:00:00.000Z</published>
    <updated>2021-03-08T21:01:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>如何高效便捷的在博客中更新自己的动态是困扰很多人的问题，简单的方案就是另起炉灶在博客重新发布一份，但这种方法耗时耗力，因此不建议这样做。从原po平台同步到博客的某个位置应该是最理想的解决方案。对于照片来说，群晖的相册给我提供了一个来源库，那么如果我想让访客浏览我的近照，那么如何把照片从群晖相册同步到博客中就成了实现这一想法的核心问题。</p><a id="more"></a><br> <style>    iframe{        pointer-events: none;    }</style>  <script type="text/javascript">    function changeFrameHeight(){      var iframe= document.getElementById("myiframe");      var wid = document.getElementById('father').clientWidth;      if (wid>900) iframe.height = wid/2.19;      else if (wid>551) iframe.height = wid/2.21;      else if (wid>470) iframe.height = wid/2.165;      else iframe.height = wid/2.26;    }    function changeFrameHeight2(){      var iframe= document.getElementById("myiframe2");      var wid = document.getElementById('father').clientWidth;      if (wid>900) iframe.height = wid/1.59;      else if (wid>551) iframe.height = wid/2.01;      else if (wid>470) iframe.height = wid/1.965;      else iframe.height = wid/2.06;    }    window.οnresize=function(){      changeFrameHeight();      changeFrameHeight2();    }  </script><div style="background-color: rgb(0, 0, 0);padding-top: 7px;" id="father"><iframe width="100%" id="myiframe" frameborder="0" onload="changeFrameHeight()" src="https://nas.cz5h.com:5443/photo/embed/embed.html?album=album_5745425f414c42554d&autoplay=1&lightbox=1" photostation></iframe><!--<iframe width="100%" id="myiframe2" frameborder="0" onload="changeFrameHeight2()" src="https://nas.cz5h.com:5443/photo/embed/embed.html?album=album_e5a381e7bab8&autoplay=1" photostation></iframe>--></div><br><p><strong>拍摄设备：</strong>HUAWEI P30<br><strong>同步来源：</strong>群晖 <a href="https://nas.cz5h.com:5443/photo/#!Albums/album_5745425f414c42554d" target="_blank" rel="external nofollow noopener noreferrer">PhotoStation Album</a><br><strong>扩展详情：</strong>关于如何放置在主页，详见 <a href="/links/logs.html">更新日志</a></p><h3 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h3><p>可以查证的、群晖官方提供的嵌入相册的方法，主要就是使用<code>iframe</code>进行嵌入。注意这里说的群晖相册，特指 <strong>Photo Station</strong>，而不是Moments等套件、在使用 Photo Station 的过程中，比较好的地方在于照片的地图模式、缩略图加载速度以及丰富的配置设置项。Moments我没有用过，但由于其关联套件太多，所以不在我的考虑范围之内，要知道我是个连Drive都不用的群晖用户。</p><p>采用<code>iframe</code>嵌入的另一个好处是，异步加载，基本对原站加载速度没什么影响。</p><h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><h4 id="iframe的大小自适应"><a href="#iframe的大小自适应" class="headerlink" title="iframe的大小自适应"></a>iframe的大小自适应</h4><p>这是个老生常谈的问题，但其实每次遇到其详细情况又都不尽相同，这里使用日常解决方案：JS控制。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">changeFrameHeight</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> iframe= <span class="built_in">document</span>.getElementById(<span class="string">"myiframe"</span>);</span><br><span class="line">    <span class="keyword">var</span> wid = <span class="built_in">document</span>.getElementById(<span class="string">'father'</span>).clientWidth;</span><br><span class="line">    <span class="keyword">if</span> (wid&gt;<span class="number">900</span>) iframe.height = wid/<span class="number">2.19</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (wid&gt;<span class="number">551</span>) iframe.height = wid/<span class="number">2.21</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (wid&gt;<span class="number">470</span>) iframe.height = wid/<span class="number">2.165</span>;</span><br><span class="line">    <span class="keyword">else</span> iframe.height = wid/<span class="number">2.26</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;div style="background-color: rgb(0, 0, 0);padding-top: 7px;" id="father"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;iframe width="100%" id="myiframe" frameborder="0" onload="changeFrameHeight()" </span></span><br><span class="line"><span class="regexp">    src="https:/</span><span class="regexp">/nas.cz5h.com:5443/</span>photo/embed/embed.html?album=album_5745425f414c42554d&amp;autoplay=<span class="number">1</span>&amp;lightbox=<span class="number">1</span><span class="string">" photostation&gt;</span></span><br><span class="line"><span class="string">  &lt;/iframe&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><p>巧妙之处在于包裹在iframe之上的div，正式利用这个父级div标签来获得iframe可以“撑起来”的最大宽度，如果直接拿原主题文件的类去获取宽度，那需要复杂的选择器实现。</p><p>得到父级标签的宽度之后就很容易通过当前宽度来配置iframe的高度了（宽度就是div的宽度）。</p><p><strong>&lt;&lt;</strong> 更多精彩尽在『程序萌部落』<strong>&gt;&gt;</strong><br><strong>&lt;&lt;</strong> <a href="https://www.cxmoe.com">https://www.cxmoe.com</a> <strong>&gt;&gt;</strong></p><h4 id="嵌入的链接为http而被禁止"><a href="#嵌入的链接为http而被禁止" class="headerlink" title="嵌入的链接为http而被禁止"></a>嵌入的链接为http而被禁止</h4><blockquote><p><code>Mixed Content: The page at &#39;https://www.cxmoe.com/&#39; was loaded over HTTPS, but requested an insecure frame &#39;http://asus.myds.me:5080/photo/embed/embed.html?album=album_5745425f414c42554d&amp;autoplay=1&amp;lightbox=1&#39;. This request has been blocked; the content must be served over HTTPS.</code></p></blockquote><p>这也是个令人头痛的问题，基本上如果Server不是自己手写的代码，那就没法解决，只能换用https的安全链接。为此，我终于在群晖上把https的证书搞好了（之前一直拖着没弄）。</p><p><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200621161332.png" alt></p><p>之后通过https访问5001是可以了，但群晖相册却怎么也打不开了，在经过了一大堆尝试（端口映射、相册设置等等）之后，终于解决了这个问题。</p><p><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200621162243.png" alt></p><p>需要注意的是，群晖的相册默认是使用80端口，在内网是直接以  的形式访问，当然如果在外网，需要配置一个端口映射到80，在http时代，我使用5080-&gt;80，即访问地址是：<a href="http://nas.cz5h.com:5080/photo/#Albums" target="_blank" rel="external nofollow noopener noreferrer">http://nas.cz5h.com:5080/photo/#Albums</a></p><p>在https时代，相应的，应该再用一个端口映射到443（！非常重要），也就是这里的5443-&gt;443，之后访问地址应该是:<a href="https://nas.cz5h.com:5443/photo/#Albums" target="_blank" rel="external nofollow noopener noreferrer">https://nas.cz5h.com:5443/photo/#Albums</a></p><p>至此，iframe采用新的https链接，问题解决。</p><h4 id="群晖相册的灯箱模式失效"><a href="#群晖相册的灯箱模式失效" class="headerlink" title="群晖相册的灯箱模式失效"></a>群晖相册的灯箱模式失效</h4><p>经验证，引入如下的JavaScript源是会出现错误的，而且导致允许连接到群晖相册和单机进入灯箱模式的失效，解决方法就是简单地取消第一、三项的勾选，只保留基本的幻灯片模式。</p><p><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200621162942.png" alt></p><h3 id="其他可能的引入方法"><a href="#其他可能的引入方法" class="headerlink" title="其他可能的引入方法"></a>其他可能的引入方法</h3><h4 id="RSS订阅"><a href="#RSS订阅" class="headerlink" title="RSS订阅"></a>RSS订阅</h4><p>这是一个比较通用的解决方案，缺点是好像群晖相册的RSS源只包含了有限张照片，并没有将同一相册的全部照片都涵盖其中，亟待寻求解决方案。</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200621164917.png"></fancybox><p>如果一切正常的话，通过RSS解析到图片，然后再通过自己的想法构造页面就可以了，这种方法是最贴合的嵌入方式，但暂时还不知道如何获得包含全部图片的订阅源。</p><h4 id="待补充"><a href="#待补充" class="headerlink" title="待补充"></a>待补充</h4><p>…</p><h3 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h3><p>我已经将群晖相册做了整理并公开了部分相册，欢迎访问直接访问我的群晖相册。<br><a href="http://nas.cz5h.com:5080/photo/#Albums/album_5745425f414c42554d" target="_blank" rel="external nofollow noopener noreferrer">http://nas.cz5h.com:5080/photo/#Albums</a></p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200621163923.png"></fancybox><p>群晖相册点开图片后还可以<strong>留言</strong>，简直不要太方便！<br>另外，PhotoStation还允许你批量添加（显示层面的）自定义水印！</p><fancybox><img src="https://cdn.jsdelivr.net/gh/TianZonglin/tuchuang/img/20200621164216.png"></fancybox>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;如何高效便捷的在博客中更新自己的动态是困扰很多人的问题，简单的方案就是另起炉灶在博客重新发布一份，但这种方法耗时耗力，因此不建议这样做。从原po平台同步到博客的某个位置应该是最理想的解决方案。对于照片来说，群晖的相册给我提供了一个来源库，那么如果我想让访客浏览我的近照，那么如何把照片从群晖相册同步到博客中就成了实现这一想法的核心问题。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Hexo相关" scheme="https://www.cxmoe.com/categories/Hexo%E7%9B%B8%E5%85%B3/"/>
    
    
      <category term="Hexo" scheme="https://www.cxmoe.com/tags/Hexo/"/>
    
      <category term="插件" scheme="https://www.cxmoe.com/tags/%E6%8F%92%E4%BB%B6/"/>
    
      <category term="群晖" scheme="https://www.cxmoe.com/tags/%E7%BE%A4%E6%99%96/"/>
    
  </entry>
  
</feed>
