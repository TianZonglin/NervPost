(window.wjp=window.wjp||[]).push([[14],{196:function(e,t,n){"use strict";var i=n(101),o=function(e,t){return e&&Object(i.a)(e,t)?e[t]:{name:t,goal:"",query:"",score:function(){}}},r=n(636),u=n.n(r),c=n(503),l=n(12),a=function(e,t){return u()(t,t.map((function(t){Object(c.a)(t in e,"Milestones ["+t+"] not found");var n=e[t]||"";return{name:t,goal:n,query:Object(l.b)(n),score:function(){return Object(l.a)(n)}}})))},s=n(6),d=n(10),p=n(18),b=n(0),f=n.n(b),h=(n(1),n(7)),m=n(2),v=n(217),O=n(121),j=n.n(O),w=Object(v.default)((function(e,t,n,i,o){var r,u=e.selectedVariant,c=e.viewId,l=Object(p.a)(e,["selectedVariant","viewId"]),s={};return n&&(s.selectedVariant=u||null),i&&(s.viewId=c||null),(r={})[o]=j()({},a(l,t),Object(d.a)({},s)),r})),x=function(e,t,n){void 0===n&&(n={});var i=f.a.createContext(n),o=i.Provider,r=i.Consumer;return{Provider:Object(m.withQuery)(e,{mapDataToProps:function(e){return{milestones:t(e)}}})((function(e){var t=e.children,n=e.milestones;return f.a.createElement(o,{value:n},t)})),Consumer:r,hoc:function(e,t){var n=void 0===t?{}:t,i=n.includeSelectedVariant,o=void 0!==i&&i,u=n.includeViewId,c=void 0!==u&&u,l=n.experimentProperty,a=void 0===l?"experiment":l;return function(t){var n=f.a.forwardRef((function(n,i){return f.a.createElement(r,null,(function(r){return f.a.createElement(t,Object(s.a)({ref:i},n,w(r,e,o,c,a)))}))}));return n.displayName=Object(h.wrapDisplayName)(t,"WithExperiment"),n}}}};n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}))},636:function(e,t,n){var i=n(1004),o=n(839);e.exports=function(e,t){return o(e||[],t||[],i)}},643:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s}));var i="fullTextFileContent",o="#"+i,r="fundingInfo",u=function(e){return setTimeout((function(){var t=document.getElementById(e);t&&t.scrollIntoView({block:"start",behavior:"smooth"})}),500)},c=function(){var e=window.location.href.replace(/#.*$/,"");window.history.replaceState("","",e)},l=function(){return window.location.hash===o},a=function(){window.location.hash=o},s=function(e){return""+e+o}},743:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(5),o=n(2);function r(){var e=Object(i.a)(["\n            mutation FollowPublication($publicationId: ID!, $context: String!) {\n                followPublication(id: $publicationId, context: $context) {\n                    id\n                    isFollowing\n                }\n            }\n        "]);return r=function(){return e},e}var u=function(e,t){return{mutation:Object(o.gql)(r()),variables:{publicationId:e,context:t},optimisticResponse:{followPublication:{id:e,isFollowing:!0,__typename:"Publication"}}}}},744:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(5),o=n(2);function r(){var e=Object(i.a)(["\n            mutation UnollowPublication($publicationId: ID!, $context: String!) {\n                unfollowPublication(id: $publicationId, context: $context) {\n                    id\n                    isFollowing\n                }\n            }\n        "]);return r=function(){return e},e}var u=function(e,t){return{mutation:Object(o.gql)(r()),variables:{publicationId:e,context:t},optimisticResponse:{unfollowPublication:{id:e,isFollowing:!1,__typename:"Publication"}}}}},757:function(e,t,n){"use strict";var i=n(5),o=n(6),r=n(3),u=n(0),c=n.n(u),l=(n(1),n(2)),a=n(11),s=n(7),d=n(12),p=n(19),b=n(116),f=n(922);function h(){var e=Object(i.a)(["\n    query ResearchActionRequestFullText($publicationKey: ID!) {\n        publication(id: $publicationKey) {\n            id\n            ...PublicationFulltextRequestAction @embed\n        }\n    }\n"]);return h=function(){return e},e}var m=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).scoreGoals=function(){var e=t.props,n=e.milestones,i=e.isNewCitation,o=[];(null==n?void 0:n.requestFullText)&&(Array.isArray(n.requestFullText)?o=n.requestFullText:o.push(n.requestFullText)),(null==n?void 0:n.newCitationsWidgetFullTextRequested)&&i&&o.push(n.newCitationsWidgetFullTextRequested),o.length>0&&Object(d.g)(o),(null==n?void 0:n.requestFullTextIepl)&&Object(b.a)(n.requestFullTextIepl)},t.componentRenderer=function(e){var n=e.label,i=e.didRequestFullText,r=e.onClick,u=t.props,l=u.RenderAsComponent,a=u.renderedComponentProps;return c.a.createElement(l,Object(o.a)({},a,{status:i?"disabled":"",onClick:r}),n)},t}return Object(r.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.publicationKey,n=e.context,i=e.disableModal;return c.a.createElement(f.a,{id:t,context:n,onRequested:this.scoreGoals,isModalEnabled:!i},this.componentRenderer)},t}(u.Component);m.displayName="ResearchActionRequestFullText";var v=Object(l.gql)(h());t.a=Object(s.compose)(Object(s.withProps)(),Object(a.a)((function(e){return e.RenderAsComponent}),!1),Object(l.withQuery)(v),Object(p.connect)())(m)},796:function(e,t,n){"use strict";(function(e){var i=n(5),o=n(6),r=n(3),u=n(0),c=n.n(u),l=(n(1),n(2)),a=n(86),s=n(49),d=n(17),p=n(11),b=n(743),f=n(744),h=n(7),m=n(14),v=n(42),O=n(19),j=n(12),w=n(43),x=n(22),R=n(73),y=n(116);function g(){var e=Object(i.a)(["\n    query ResearchActionFollow($publicationKey: ID!) {\n        publication(id: $publicationKey) {\n            id\n            isFollowing\n            type\n        }\n    }\n"]);return g=function(){return e},e}var F=function(t){function i(){for(var i,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return(i=t.call.apply(t,[this].concat(r))||this).handleFollowToggle=function(){var e=i.props,t=e.context,n=e.dispatch,o=e.mutate,r=e.postActionCallback,u=e.publication,l=e.milestones,a=e.showPostAlert;u.isFollowing?(o(Object(f.a)(u.id,t)).then((function(){return n(Object(m.pushAlert)((function(){return c.a.createElement(v.a,{title:"You are no longer following this research"})})))})),l&&l.unFollow&&Object(j.g)(l.unFollow)):(o(Object(b.a)(u.id,t)).then((function(){Object(R.b)("follow",u.id),n(Object(m.pushAlert)((function(){return c.a.createElement(v.a,{title:"You are now following this research"})}),"POST_FOLLOW_ALERT")),a&&i.showShareAlert()})),l&&l.follow&&Object(j.g)(l.follow),l&&l.followIepl&&Object(y.a)(l.followIepl)),r&&r()},i.handleAlertClick=function(){var t=i.props.dispatch;t(Object(x.mountAsyncModal)("application.UniversalShareDialog.html",{rgKey:i.props.publicationKey,context:i.props.context+"_PostFollowAlert"},void 0,(function(){return Promise.all([n.e(0),n.e(1),n.e(42)]).then(n.bind(null,117))}),e.hot&&!1)),t(Object(m.pullAlert)("POST_FOLLOW_ALERT")),t(Object(m.pullAlert)("POST_FOLLOW_SHARE_ALERT"))},i.showShareAlert=function(){var e=i.props,t=e.dispatch,n=e.publication,o=Object(w.G)(n.type)?"these":"this";t(Object(m.pushAlert)((function(){return c.a.createElement(a.a,{title:"",description:"Would you like to share "+o+" "+Object(w.C)(n.type)+" with someone you know?"},c.a.createElement(s.a,null,c.a.createElement(d.a,{type:"button",theme:"inverted",onClick:i.handleAlertClick},"Yes")))}),"POST_FOLLOW_SHARE_ALERT"))},i}Object(r.a)(i,t);var u=i.prototype;return u.getChildren=function(){var e=this.props,t=e.publication,n=e.children;return n||(t.isFollowing?"Following":"Follow")},u.render=function(){var e=this.props,t=e.RenderAsComponent,n=e.renderedComponentProps;return c.a.createElement(t,Object(o.a)({},n,{onClick:this.handleFollowToggle,subline:"Get updates about this work"}),this.getChildren())},i}(u.Component);F.displayName="ResearchActionFollow";var q=Object(l.gql)(g());t.a=Object(h.compose)(Object(h.withProps)(),Object(p.a)((function(e){return e.RenderAsComponent}),!1),Object(l.withQuery)(q),Object(O.connect)())(F)}).call(this,n(56)(e))},805:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(5),o=n(2);function r(){var e=Object(i.a)(["\n            mutation LikePublication($publicationId: ID!, $context: String!) {\n                likePublication(id: $publicationId, context: $context) {\n                    id\n                    hasLiked\n                    likeCount\n                }\n            }\n        "]);return r=function(){return e},e}var u=function(e,t){return{mutation:Object(o.gql)(r()),variables:{publicationId:e,context:t},optimisticResponse:{likePublication:{id:e,hasLiked:!0,likeCount:"▲",__typename:"Publication"}}}}},810:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(5),o=n(2);function r(){var e=Object(i.a)(["\n            mutation UnlikePublication($publicationId: ID!, $context: String!) {\n                unlikePublication(id: $publicationId, context: $context) {\n                    id\n                    hasLiked\n                    likeCount\n                }\n            }\n        "]);return r=function(){return e},e}var u=function(e,t){return{mutation:Object(o.gql)(r()),variables:{publicationId:e,context:t},optimisticResponse:{unlikePublication:{id:e,hasLiked:!1,likeCount:"▼",__typename:"Publication"}}}}},834:function(e,t,n){"use strict";var i=n(5),o=n(6),r=n(3),u=n(0),c=n.n(u),l=(n(1),n(2)),a=n(11),s=n(805),d=n(810),p=n(7),b=n(19),f=n(12),h=n(73),m=n(203),v=n(116);function O(){var e=Object(i.a)(["\n    query ResearchActionRecommend($publicationKey: ID!) {\n        publication(id: $publicationKey) {\n            id\n            hasLiked\n        }\n    }\n"]);return O=function(){return e},e}var j=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).handleLikeToggle=function(){var e=t.props,n=e.context,i=e.dispatch,o=e.mutate,r=e.postActionCallback,u=e.publication,c=e.milestones;u.hasLiked?o(Object(d.a)(u.id,n)).then((function(){return i(Object(m.b)("research",u.id))})):o(Object(s.a)(u.id,n)).then((function(){Object(h.b)("recommend",u.id),i(Object(m.a)("research",u.id))})),r&&r(),c&&c.recommend&&Object(f.g)(c.recommend),c&&c.recommendIepl&&Object(v.a)(c.recommendIepl)},t}Object(r.a)(t,e);var n=t.prototype;return n.getChildren=function(){var e=this.props,t=e.children,n=e.publication;return t||(n.hasLiked?"Recommended":"Recommend")},n.render=function(){var e=this.props,t=e.RenderAsComponent,n=e.renderedComponentProps;return c.a.createElement(t,Object(o.a)({},n,{onClick:this.handleLikeToggle,subline:"Recommend publicly"}),this.getChildren())},t}(u.Component);j.displayName="ResearchActionRecommend";var w=Object(l.gql)(O());t.a=Object(p.compose)(Object(p.withProps)(),Object(a.a)((function(e){return e.RenderAsComponent}),!1),Object(l.withQuery)(w),Object(b.connect)())(j)},839:function(e,t){e.exports=function(e,t,n){for(var i=-1,o=e.length,r=t.length,u={};++i<o;){var c=i<r?t[i]:void 0;n(u,e[i],c)}return u}},895:function(e,t,n){"use strict";(function(e){var i=n(5),o=n(0),r=n.n(o),u=n(1),c=n.n(u),l=n(7),a=n(19),s=n(2),d=n(43),p=n(898),b=n(22),f=n(14),h=n(42),m=n(13);function v(){var e=Object(i.a)(["\n            query PublicationFulltextRequestAction($id: ID!) {\n                publication(id: $id) {\n                    id\n                    didRequestFullText\n                    hasPermissionToRequestFullText\n                    hasReceivedFulltextOrData\n                    concreteType {\n                        name\n                    }\n                }\n            }\n        "]);return v=function(){return e},e}var O=function(e){var t=e.children,n=e.hasPermissionToRequestFullText,i=e.didRequestFullText,o=e.hasReceivedFulltextOrData,r=e.type,u=e.onClick;return t({label:i?Object(d.y)(r)+" requested":"Request "+Object(d.y)(r,!0),hasPermissionToRequestFullText:n,didRequestFullText:i,hasReceivedFulltextOrData:o,onClick:i||!n?null:u})};O.propTypes={id:c.a.string.isRequired,context:c.a.string.isRequired,children:c.a.func.isRequired,hasPermissionToRequestFullText:c.a.bool,didRequestFullText:c.a.bool,hasReceivedFulltextOrData:c.a.bool,type:c.a.string.isRequired,onClick:c.a.func,isModalEnabled:c.a.bool,onRequested:c.a.func},t.a=Object(l.compose)(Object(a.connect)(),Object(s.withQuery)(Object(s.gql)(v()),{mapDataToProps:function(e){var t,n=e.publication;return{didRequestFullText:null==n?void 0:n.didRequestFullText,hasPermissionToRequestFullText:null==n?void 0:n.hasPermissionToRequestFullText,hasReceivedFulltextOrData:null==n?void 0:n.hasReceivedFulltextOrData,type:null==n?void 0:null==(t=n.concreteType)?void 0:t.name}}}),Object(l.defaultProps)({isModalEnabled:!0}),Object(l.withHandlers)({onClick:function(t){var i=t.id,o=t.context,u=t.mutate,c=t.isModalEnabled,l=t.dispatch,a=t.onRequested;return function(){u(Object(p.a)(i,o)).then((function(){l(c?Object(b.mountAsyncModal)("publication.PublicationFulltextRequestAddMessage.html",{entryChannel:o,publicationUid:m.a.parse(i).id},void 0,(function(){return Promise.all([n.e(0),n.e(705)]).then(n.bind(null,639))}),e.hot&&!1):Object(f.pushAlert)((function(){return r.a.createElement(h.a,{title:"Full-text requested",description:"We'll notify you when the author provides it."})}))),a&&a()}))}}}))(O)}).call(this,n(56)(e))},898:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(5),o=n(2);function r(){var e=Object(i.a)(["\n            mutation RequestFullText($publicationId: ID!, $context: String!) {\n                requestFullText(id: $publicationId, context: $context) {\n                    id\n                    didRequestFullText\n                }\n            }\n        "]);return r=function(){return e},e}var u=function(e,t){return{mutation:Object(o.gql)(r()),variables:{publicationId:e,context:t},optimisticResponse:{requestFullText:{id:e,didRequestFullText:!0,__typename:"Publication"}}}}},922:function(e,t,n){"use strict";var i=n(895);n.d(t,"a",(function(){return i.a}))}}]);